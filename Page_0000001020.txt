OBJECT Page 1020 Job G/L Journal
{
  OBJECT-PROPERTIES
  {
    Date=22.05.17;
    Time=11:22:21;
    Modified=Yes;
    Version List=NAVW110.00,NOS-26;
  }
  PROPERTIES
  {
    CaptionML=[ENU=Job G/L Journal;
               RUS=ГК Журнал работ];
    SaveValues=Yes;
    SourceTable=Table81;
    DelayedInsert=Yes;
    DataCaptionFields=Journal Batch Name;
    PageType=Worksheet;
    AutoSplitKey=Yes;
    OnInit=BEGIN
             TotalBalanceVisible := TRUE;
             BalanceVisible := TRUE;
           END;

    OnOpenPage=VAR
                 JnlSelected@1000 : Boolean;
               BEGIN
                 PreviewGuid := CREATEGUID;
                 IF IsOpenedFromBatch THEN BEGIN
                   CurrentJnlBatchName := "Journal Batch Name";
                   GenJnlManagement.OpenJnl(CurrentJnlBatchName,Rec);
                   EXIT;
                 END;
                 GenJnlManagement.TemplateSelection(PAGE::"Job G/L Journal",7,FALSE,Rec,JnlSelected);
                 IF NOT JnlSelected THEN
                   ERROR('');
                 GenJnlManagement.OpenJnl(CurrentJnlBatchName,Rec);
               END;

    OnAfterGetRecord=BEGIN
                       ShowShortcutDimCode(ShortcutDimCode);
                     END;

    OnNewRecord=BEGIN
                  UpdateBalance;
                  SetUpNewLine(xRec,Balance,BelowxRec);
                  CLEAR(ShortcutDimCode);
                  CLEAR(AccName);
                END;

    OnInsertRecord=BEGIN
                     PreviewGuid := CREATEGUID;
                   END;

    OnModifyRecord=BEGIN
                     PreviewGuid := CREATEGUID;
                   END;

    OnDeleteRecord=BEGIN
                     PreviewGuid := CREATEGUID;
                   END;

    OnAfterGetCurrRecord=BEGIN
                           GenJnlManagement.GetAccounts(Rec,AccName,BalAccName);
                           UpdateBalance;
                         END;

    ActionList=ACTIONS
    {
      { 1900000003;0 ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 75      ;1   ;ActionGroup;
                      CaptionML=[ENU=&Line;
                                 RUS=&Строка];
                      Image=Line }
      { 76      ;2   ;Action    ;
                      AccessByPermission=TableData 348=R;
                      ShortCutKey=Shift+Ctrl+D;
                      CaptionML=[ENU=Dimensions;
                                 RUS=Измерения];
                      ToolTipML=[ENU=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyze transaction history.;
                                 RUS=Просмотр или изменение измерений, например области, проекта или отдела, которые можно назначать документам покупки и продажи для распределения себестоимости и анализа истории транзакций.];
                      ApplicationArea=#Jobs;
                      Image=Dimensions;
                      OnAction=BEGIN
                                 ShowDimensions;
                                 CurrPage.SAVERECORD;
                               END;
                                }
      { 43      ;1   ;ActionGroup;
                      CaptionML=[ENU=A&ccount;
                                 RUS=С&чет];
                      Image=ChartOfAccounts }
      { 44      ;2   ;Action    ;
                      ShortCutKey=Shift+F7;
                      CaptionML=[ENU=Card;
                                 RUS=Карточка];
                      ToolTipML=[ENU=View or change detailed information about the record that is being processed on the journal line.;
                                 RUS=Просмотр или изменение подробных сведений о записи, обрабатываемой в строке журнала.];
                      ApplicationArea=#Jobs;
                      RunObject=Codeunit 15;
                      Image=EditLines }
      { 45      ;2   ;Action    ;
                      ShortCutKey=Ctrl+F7;
                      CaptionML=[ENU=Ledger E&ntries;
                                 RUS=&Книга операций];
                      ToolTipML=[ENU=View the history of transactions that have been posted for the selected record.;
                                 RUS=Просмотр истории транзакций, которые были учтены для выбранной записи.];
                      ApplicationArea=#Jobs;
                      RunObject=Codeunit 14;
                      Promoted=No;
                      Image=GLRegisters;
                      PromotedCategory=Process }
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 7       ;1   ;ActionGroup;
                      CaptionML=[ENU=F&unctions;
                                 RUS=Ф&ункции] }
      { 9       ;2   ;Action    ;
                      CaptionML=[ENU=Renumber Document Numbers;
                                 RUS=Перенумеровать документы];
                      ToolTipML=[ENU=Resort the numbers in the Document No. column to avoid posting errors because the document numbers are not in sequence. Entry applications and line groupings are preserved.;
                                 RUS=Пересортировка номеров в столбце "Номер документа", чтобы избежать ошибок учета, если номера документов не упорядочены. Применения операций и группировки строк сохраняются.];
                      ApplicationArea=#Jobs;
                      Image=EditLines;
                      OnAction=BEGIN
                                 RenumberDocumentNo
                               END;
                                }
      { 47      ;1   ;ActionGroup;
                      CaptionML=[ENU=P&osting;
                                 RUS=У&чет];
                      Image=Post }
      { 48      ;2   ;Action    ;
                      ShortCutKey=Ctrl+F11;
                      CaptionML=[ENU=Reconcile;
                                 RUS=Выверить];
                      ToolTipML=[ENU=View what has been reconciled for the job. The window shows the quantity entered on the job journal lines, totaled by unit of measure and by work type.;
                                 RUS=Просмотр значений, которые были выверены для работы. В окне показано количество, введенное в строках журнала работ, просуммированное по единицам измерения и типам работ.];
                      ApplicationArea=#Jobs;
                      Image=Reconcile;
                      OnAction=BEGIN
                                 GLReconcile.SetGenJnlLine(Rec);
                                 GLReconcile.RUN;
                               END;
                                }
      { 49      ;2   ;Action    ;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Test Report;
                                 RUS=Тестовый отчет];
                      ToolTipML=[ENU=View a test report so that you can find and correct any errors before you perform the actual posting of the journal or document.;
                                 RUS=Просмотр тестового отчета, чтобы можно было найти и исправить все ошибки перед учетом журнала или документа.];
                      ApplicationArea=#Jobs;
                      Image=TestReport;
                      OnAction=BEGIN
                                 ReportPrint.PrintGenJnlLine(Rec);
                               END;
                                }
      { 50      ;2   ;Action    ;
                      ShortCutKey=F9;
                      CaptionML=[ENU=P&ost;
                                 RUS=У&чет];
                      ToolTipML=[ENU=Finalize the document or journal by posting the amounts and quantities to the related accounts in your company books.;
                                 RUS=Завершение подготовки документа или журнала путем учета сумм и количеств на соответствующих счетах в книгах организации.];
                      ApplicationArea=#Jobs;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=PostOrder;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 CODEUNIT.RUN(CODEUNIT::"Gen. Jnl.-Post",Rec);
                                 CurrentJnlBatchName := GETRANGEMAX("Journal Batch Name");
                                 CurrPage.UPDATE(FALSE);
                               END;
                                }
      { 11      ;2   ;Action    ;
                      Name=Preview;
                      CaptionML=[ENU=Preview Posting;
                                 RUS=Предварительный просмотр учета];
                      ToolTipML=[ENU=Review the different types of entries that will be created when you post the document or journal.;
                                 RUS=Просмотр различных типов операций, которые будут созданы в результате учета документа или журнала.];
                      ApplicationArea=#Jobs;
                      Image=ViewPostedOrder;
                      OnAction=VAR
                                 GenJnlPost@1001 : Codeunit 231;
                               BEGIN
                                 GenJnlPost.Preview(Rec);
                                 CurrentJnlBatchName := GETRANGEMAX("Journal Batch Name");
                                 CurrPage.UPDATE(FALSE);
                               END;
                                }
      { 51      ;2   ;Action    ;
                      ShortCutKey=Shift+F9;
                      CaptionML=[ENU=Post and &Print;
                                 RUS=Учет и &печать];
                      ToolTipML=[ENU=Finalize and prepare to print the document or journal. The values and quantities are posted to the related accounts. A report request window where you can specify what to include on the print-out.;
                                 RUS=Завершение подготовки документа или журнала и его подготовка к печати. Значения и количества учитываются на соответствующих счетах. В окне запроса отчета можно указать, какая информация должна выводиться на печать.];
                      ApplicationArea=#Jobs;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=PostPrint;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 CODEUNIT.RUN(CODEUNIT::"Gen. Jnl.-Post+Print",Rec);
                                 CurrentJnlBatchName := GETRANGEMAX("Journal Batch Name");
                                 CurrPage.UPDATE(FALSE);
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 39  ;1   ;Field     ;
                Lookup=Yes;
                CaptionML=[ENU=Batch Name;
                           RUS=Код раздела];
                ToolTipML=[ENU=Specifies the name of the journal batch.;
                           RUS=Определяет название раздела журнала.];
                ApplicationArea=#Jobs;
                SourceExpr=CurrentJnlBatchName;
                OnValidate=BEGIN
                             PreviewGuid := CREATEGUID;
                             GenJnlManagement.CheckName(CurrentJnlBatchName,Rec);
                             CurrentJnlBatchNameOnAfterVali;
                           END;

                OnLookup=BEGIN
                           PreviewGuid := CREATEGUID;
                           CurrPage.SAVERECORD;
                           GenJnlManagement.LookupName(CurrentJnlBatchName,Rec);
                           CurrPage.UPDATE(FALSE);
                         END;
                          }

    { 1   ;1   ;Group     ;
                GroupType=Repeater }

    { 2   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the posting date for the entry.;
                           RUS=Определяет дату учета операции.];
                ApplicationArea=#Jobs;
                SourceExpr="Posting Date" }

    { 83  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the date on the document that provides the basis for the entry on the journal line.;
                           RUS=Определяет дату документа, на которой базируется операция в строке журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="Document Date";
                Visible=FALSE }

    { 4   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the type of document that the entry on the journal line is.;
                           RUS=Определяет тип документа, который имеет операция в строке журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="Document Type" }

    { 6   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a document number for the journal line.;
                           RUS=Определяет номер документа для строки журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="Document No." }

    { 81  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a document number that refers to the customer's or vendor's numbering system.;
                           RUS=Определяет номер документа, относящийся к системе нумерации клиента или поставщика.];
                ApplicationArea=#Jobs;
                SourceExpr="External Document No.";
                Visible=FALSE }

    { 8   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the type of account that the entry on the journal line will be posted to.;
                           RUS=Определяет тип счета, в котором будет учтена операция строки журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="Account Type";
                OnValidate=BEGIN
                             GenJnlManagement.GetAccounts(Rec,AccName,BalAccName);
                           END;
                            }

    { 10  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the account number that the entry on the journal line will be posted to.;
                           RUS=Определяет номер счета, в котором будет учтена операция строки журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="Account No.";
                OnValidate=BEGIN
                             GenJnlManagement.GetAccounts(Rec,AccName,BalAccName);
                             ShowShortcutDimCode(ShortcutDimCode);
                           END;
                            }

    { 12  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a description of the entry. The field is automatically filled when the Account No. field is filled.;
                           RUS=Определяет описание операции. Поле заполняется автоматически при заполнении поля "Номер счета".];
                ApplicationArea=#Jobs;
                SourceExpr=Description }

    { 71  ;2   ;Field     ;
                SourceExpr="Business Unit Code";
                Visible=FALSE }

    { 65  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the salesperson or purchaser who is linked to the journal line.;
                           RUS=Определяет менеджера по продажам или покупкам, связанного со строкой журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="Salespers./Purch. Code";
                Visible=FALSE }

    { 93  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the campaign the journal line is linked to.;
                           RUS=Определяет номер кампании, с которой связана строка журнала.];
                SourceExpr="Campaign No.";
                Visible=FALSE }

    { 67  ;2   ;Field     ;
                AssistEdit=Yes;
                ToolTipML=[ENU=Specifies the code of the currency for the amounts on the journal line.;
                           RUS=Определяет код валюты для сумм в строке журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="Currency Code";
                Visible=FALSE;
                OnAssistEdit=BEGIN
                               ChangeExchangeRate.SetParameter("Currency Code","Currency Factor","Posting Date");
                               IF ChangeExchangeRate.RUNMODAL = ACTION::OK THEN
                                 VALIDATE("Currency Factor",ChangeExchangeRate.GetParameter);

                               CLEAR(ChangeExchangeRate);
                             END;
                              }

    { 14  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the general posting type that will be used when you post the entry on this journal line.;
                           RUS=Определяет общий тип учета, который будет использоваться при учете операции в этой строке журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="Gen. Posting Type" }

    { 77  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the general business posting group that will be used when you post the entry on the journal line.;
                           RUS=Определяет общую бизнес-группу, которая будет использоваться при учете операции в строке журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="Gen. Bus. Posting Group" }

    { 16  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the general product posting group that will be used when you post the entry on the journal line.;
                           RUS=Определяет общую товарную группу, которая будет использоваться при учете операции в строке журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="Gen. Prod. Posting Group" }

    { 41  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the vendor's VAT specification to link transactions made for this vendor with the appropriate general ledger account according to the VAT posting setup.;
                           RUS=Определяет спецификацию НДС поставщика, чтобы связать транзакции, сделанные для этого поставщика, с соответствующим счетом главной книги согласно настройке учета НДС.];
                ApplicationArea=#Jobs;
                SourceExpr="VAT Bus. Posting Group";
                Visible=FALSE }

    { 85  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code of the VAT product posting group that will be used when you post the entry on the journal line.;
                           RUS=Определяет код товарной группы НДС, который будет использоваться при учете операции в строке журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="VAT Prod. Posting Group";
                Visible=FALSE }

    { 121 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the relevant VAT rate for the particular combination of VAT business posting group and VAT product posting group. Do not enter the percent sign, only the number. For example, if the VAT rate is 25 %, enter 25 in this field.;
                           RUS=Определяет ставку НДС, соответствующую данному конкретному сочетанию НДС бизнес-группы и НДС товарной группы. Не нужно вводить знак процента, вводится только число. Например, если ставка НДС равна 25 %, введите в это поле 25.];
                ApplicationArea=#Jobs;
                SourceExpr="VAT %";
                Visible=FALSE }

    { 18  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the total amount (including VAT) that the journal line consists of.;
                           RUS=Определяет общую сумму (включая НДС) строки журнала.];
                ApplicationArea=#Jobs;
                SourceExpr=Amount }

    { 101 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the amount of VAT included in the total amount.;
                           RUS=Определяет сумму НДС, включенную в общую сумму.];
                ApplicationArea=#Jobs;
                SourceExpr="VAT Amount";
                Visible=FALSE }

    { 99  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the difference between the calculate VAT amount and the VAT amount that you have entered manually.;
                           RUS=Определяет разницу между вычисленной суммой НДС и суммой НДС, введенной вручную.];
                ApplicationArea=#Jobs;
                SourceExpr="VAT Difference";
                Visible=FALSE }

    { 103 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the amount of Bal. VAT included in the total amount.;
                           RUS=Определяет сумму "Бал. - НДС", включенную в общую сумму.];
                ApplicationArea=#Jobs;
                SourceExpr="Bal. VAT Amount";
                Visible=FALSE }

    { 105 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the difference between the calculate VAT amount and the VAT amount that you have entered manually.;
                           RUS=Определяет разницу между вычисленной суммой НДС и суммой НДС, введенной вручную.];
                ApplicationArea=#Jobs;
                SourceExpr="Bal. VAT Difference";
                Visible=FALSE }

    { 53  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the balancing account type that should be used in this journal line.;
                           RUS=Определяет код типа балансирующего счета, который следует использовать в этой строке журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="Bal. Account Type" }

    { 55  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the general ledger, customer, vendor, or bank account to which a balancing entry for the journal line will posted (for example, a cash account for cash purchases).;
                           RUS=Определяет номер главной книги, клиента, поставщика или банковского счета, где будет учитываться балансовая операция строки журнала (например, счет кассы для покупок за наличные).];
                ApplicationArea=#Jobs;
                SourceExpr="Bal. Account No.";
                OnValidate=BEGIN
                             GenJnlManagement.GetAccounts(Rec,AccName,BalAccName);
                             ShowShortcutDimCode(ShortcutDimCode);
                           END;
                            }

    { 57  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the general posting type associated with the balancing account that will be used when you post the entry on the journal line.;
                           RUS=Определяет общий тип учета, связанный с балансирующим счетом, который будет использоваться при учете операции в строке журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="Bal. Gen. Posting Type" }

    { 79  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the general business posting group code associated with the balancing account that will be used when you post the entry.;
                           RUS=Определяет код общей бизнес-группы, связанный с балансирующим счетом, который будет использоваться при учете операции.];
                ApplicationArea=#Jobs;
                SourceExpr="Bal. Gen. Bus. Posting Group" }

    { 59  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the general product posting group code associated with the balancing account that will be used when you post the entry.;
                           RUS=Определяет код общей товарной группы, связанный с балансирующим счетом, который будет использоваться при учете операции.];
                ApplicationArea=#Jobs;
                SourceExpr="Bal. Gen. Prod. Posting Group" }

    { 87  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code of the VAT business posting group associated with the balancing account that will be used when you post the entry on the journal line.;
                           RUS=Определяет код НДС бизнес-группы, связанной с балансирующим счетом, который будет использоваться при учете операции в строке журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="Bal. VAT Bus. Posting Group";
                Visible=FALSE }

    { 89  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code of the VAT product posting group associated with the balancing account that will be used when you post the entry on the journal line.;
                           RUS=Определяет код НДС товарной группы, связанной с балансирующим счетом, который будет использоваться при учете операции в строке журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="Bal. VAT Prod. Posting Group";
                Visible=FALSE }

    { 95  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the address code of the bill-to customer or pay-to vendor that the entry is linked to.;
                           RUS=Определяет код адреса плательщика или поставщика, с которым связана операция.];
                ApplicationArea=#Jobs;
                SourceExpr="Bill-to/Pay-to No.";
                Visible=FALSE }

    { 97  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the address code of the ship-to customer or order-from vendor that the entry is linked to.;
                           RUS=Определяет код адреса клиента, которому осуществляется поставка, либо поставщика, у которого делается заказ, с которым связана операция.];
                ApplicationArea=#Jobs;
                SourceExpr="Ship-to/Order Address Code";
                Visible=FALSE }

    { 61  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for Shortcut Dimension 1.;
                           RUS=Определяет код ярлыка измерения 1.];
                ApplicationArea=#Jobs;
                SourceExpr="Shortcut Dimension 1 Code";
                Visible=FALSE }

    { 63  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for Shortcut Dimension 2.;
                           RUS=Определяет код ярлыка измерения 2.];
                ApplicationArea=#Jobs;
                SourceExpr="Shortcut Dimension 2 Code";
                Visible=FALSE }

    { 300 ;2   ;Field     ;
                ApplicationArea=#Jobs;
                SourceExpr=ShortcutDimCode[3];
                CaptionClass='1,2,3';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(3),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(3,ShortcutDimCode[3]);
                           END;
                            }

    { 302 ;2   ;Field     ;
                ApplicationArea=#Jobs;
                SourceExpr=ShortcutDimCode[4];
                CaptionClass='1,2,4';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(4),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(4,ShortcutDimCode[4]);
                           END;
                            }

    { 304 ;2   ;Field     ;
                ApplicationArea=#Jobs;
                SourceExpr=ShortcutDimCode[5];
                CaptionClass='1,2,5';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(5),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(5,ShortcutDimCode[5]);
                           END;
                            }

    { 306 ;2   ;Field     ;
                ApplicationArea=#Jobs;
                SourceExpr=ShortcutDimCode[6];
                CaptionClass='1,2,6';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(6),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(6,ShortcutDimCode[6]);
                           END;
                            }

    { 308 ;2   ;Field     ;
                ApplicationArea=#Jobs;
                SourceExpr=ShortcutDimCode[7];
                CaptionClass='1,2,7';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(7),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(7,ShortcutDimCode[7]);
                           END;
                            }

    { 310 ;2   ;Field     ;
                ApplicationArea=#Jobs;
                SourceExpr=ShortcutDimCode[8];
                CaptionClass='1,2,8';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(8),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(8,ShortcutDimCode[8]);
                           END;
                            }

    { 69  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code that represents the payments terms that apply to the entry on the journal line.;
                           RUS=Определяет код, представляющий условия оплаты, применяемые к операции в строке журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="Payment Terms Code";
                Visible=FALSE }

    { 24  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the type of the posted document that this document or journal line will be applied to when you post, for example to register payment.;
                           RUS=Определяет тип учтенного документа, к которому будет применен этот документ или строка журнала, например при учете с целью регистрации оплаты.];
                ApplicationArea=#Jobs;
                SourceExpr="Applies-to Doc. Type";
                Visible=FALSE }

    { 26  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the posted document that this document or journal line will be applied to when you post, for example to register payment.;
                           RUS=Определяет номер учтенного документа, к которому будет применен этот документ или строка журнала, например при учете с целью регистрации оплаты.];
                ApplicationArea=#Jobs;
                SourceExpr="Applies-to Doc. No.";
                Visible=FALSE }

    { 22  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the ID of entries that will be applied to when you choose the Apply Entries action.;
                           RUS=Определяет код операций, которые будут применены при выборе команды "Применить операции".];
                ApplicationArea=#Jobs;
                SourceExpr="Applies-to ID";
                Visible=FALSE }

    { 28  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies if the journal line has been invoiced, and you execute the payment suggestions batch job, or you create a finance charge memo or reminder.;
                           RUS=Указывает, что строка журнала включена в счет и выполняется пакетное задание предложений по оплате либо создается процент-нота или напоминание.];
                ApplicationArea=#Jobs;
                SourceExpr="On Hold";
                Visible=FALSE }

    { 20  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the payment type to be used for the entry on the payment journal line.;
                           RUS=Определяет код типа оплаты, используемый для операции в строке журнала платежей.];
                ApplicationArea=#Jobs;
                SourceExpr="Bank Payment Type";
                Visible=FALSE }

    { 73  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the reason code that has been entered on the journal lines.;
                           RUS=Определяет код причины, введенный в строках журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="Reason Code";
                Visible=FALSE }

    { 123 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the related job.;
                           RUS=Определяет связанную работу.];
                ApplicationArea=#Jobs;
                SourceExpr="Job No.";
                OnValidate=BEGIN
                             ShowShortcutDimCode(ShortcutDimCode);
                           END;
                            }

    { 109 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the related job task number.;
                           RUS=Определяет номер связанного рабочего задания.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Task No.";
                OnValidate=BEGIN
                             IF JobTaskIsSet THEN
                               ShowShortcutDimCode(ShortcutDimCode);
                           END;
                            }

    { 5   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the job planning line number to which the usage should be linked when the Job Journal is posted. You can only link to Job Planning Lines that have the Apply Usage Link option enabled.;
                           RUS=Определяет номер строки планирования работ, с которым следует связать потребление при учете журнала работ. Связывать можно только те строки планирования работ, для которых включен параметр "Применить связь использования".];
                ApplicationArea=#Jobs;
                SourceExpr="Job Planning Line No.";
                Visible=FALSE }

    { 111 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the planning line(s) that was created together with the posting of a job ledger entry from the purchase line.;
                           RUS=Определяет строки планирования, созданные при учете операции книги работ из строки покупки.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Type" }

    { 107 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the unit of measure code that is used to determine the unit price. This code specifies how the quantity is measured, for example, by the box or by the piece. The application retrieves this code from the corresponding item or resource card.;
                           RUS=Определяет код единицы измерения, используемый для определения цены единицы. От этого кода зависит единица измерения количества (например, ящик или штука). Код извлекается приложением из соответствующей карточки товара или ресурса.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Unit Of Measure Code";
                Visible=FALSE }

    { 115 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the quantity for the job ledger entry that is derived from posting the journal line. If the Job Quantity is 0, the total amount on the job ledger entry will also be 0.;
                           RUS=Определяет количество для операции работы, полученное в результате учета строки журнала. Если количество работы равно нулю, то общая сумма для операции работы тоже будет равна нулю.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Quantity" }

    { 46  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the job cost of one unit of the item or resource on the journal line. The value is calculated as follows: Job Total Cost (LCY) / Job Quantity.;
                           RUS=Определяет себестоимость работы для одной единицы товара или ресурса в строке журнала. Значение рассчитывается по следующей формуле: Работа (итоговая себест.) (руб.) / Объем работы.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Unit Cost" }

    { 117 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the job cost of one unit of the item or resource on the journal line, in the local currency. The value is calculated as follows: Job Total Cost (LCY) / Job Quantity.;
                           RUS=Определяет себестоимость работы для одной единицы товара или ресурса в строке журнала, выраженную в местной валюте. Значение рассчитывается по следующей формуле: Работа (итоговая себест.) (руб.) / Объем работы.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Unit Cost (LCY)" }

    { 126 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies if you have assigned a job number and a job task number to the journal line. It shows the amount excluding VAT divided by the job quantity for the journal line. The amount is shown in the currency specified for the job. The value field is calculated as follows: (Amount - VAT Amount) x (Job Currency Rate/Currency Rate).;
                           RUS=Указывает, что в строке журнала назначены код работы и номер рабочего задания. В этом поле показана сумма без учета НДС, разделенная на объем работы, для этой строки журнала. Сумма указывается в валюте, заданной для этой работы. Значение рассчитывается по следующей формуле: (Сумма - Сумма НДС) x (Курс валюты работы/Курс валюты).];
                ApplicationArea=#Jobs;
                SourceExpr="Job Total Cost" }

    { 141 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the job total cost if you have assigned a job number and a job task number to the journal line. It shows the Amount (LCY) excluding VAT Amount (LCY)for the journal line.;
                           RUS=Определяет общую себестоимость работы, если строке журнала назначены код работы и номер рабочего задания. В нем выводится значение "Сумма (руб.)" за вычетом значения "Сумма НДС (руб.)" для этой строки журнала.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Total Cost (LCY)" }

    { 129 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the unit price for the selected account type and account number on the journal line.;
                           RUS=Определяет цену единицы для выбранных в строке журнала типа и номера счета.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Unit Price" }

    { 91  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the unit price, in the local currency, for the selected account type and account number on the journal line.;
                           RUS=Определяет цену единицы (в местной валюте) для выбранных в строке журнала типа и номера счета.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Unit Price (LCY)";
                Visible=FALSE }

    { 139 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the line amount of the job ledger entry that was posted from the purchase line.;
                           RUS=Определяет сумму по строке для операции книги работ, которая была учтена из строки покупки.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Amount" }

    { 134 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the line amount of the job ledger entry that was posted from the purchase line.;
                           RUS=Определяет сумму по строке для операции книги работ, которая была учтена из строки покупки.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Amount (LCY)" }

    { 137 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the line discount amount of the job ledger entry that was posted from the purchase line. The amount is shown in the currency specified for the job.;
                           RUS=Определяет сумму скидки строки для операции книги работ, которая была учтена из строки покупки. Сумма приведена в валюте, указанной для данной работы.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Discount Amount" }

    { 119 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the job line discount percentage that will be used for the job ledger entry. If you have set up a job-specific line discount percentage for the account type and account number, then it is inserted automatically. Otherwise, the discount percentage is based on the discount that is set up on the customer or item card.;
                           RUS=Определяет процент скидки по строке работы, который будет применяться к операции книги работ. Если для типа и номера счета настроен процент скидки по строке, зависящий от работы, то он будет вставлен автоматически. В противном случае процент скидки будет основан на скидке, настроенной в карточке клиента или товара.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Discount %" }

    { 113 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the total price for the journal line. The value is calculated as follows: Quantity x Unit Price (LCY).;
                           RUS=Определяет общую цену для строки журнала. Значение рассчитывается по следующей формуле: Количество x Цена единицы (руб.).];
                ApplicationArea=#Jobs;
                SourceExpr="Job Total Price";
                Visible=FALSE }

    { 128 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the total price for the journal line, in the local currency. The value is calculated as follows: Quantity x Unit Price (LCY).;
                           RUS=Определяет общую цену для строки журнала, выраженную в местной валюте. Значение рассчитывается по следующей формуле: Количество x Цена единицы (руб.).];
                ApplicationArea=#Jobs;
                SourceExpr="Job Total Price (LCY)" }

    { 3   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the quantity of the item that remains to complete a job.;
                           RUS=Определяет количество товара, которое остается для завершения работы.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Remaining Qty.";
                Visible=FALSE }

    { 30  ;1   ;Group      }

    { 1901776101;2;Group  ;
                GroupType=FixedLayout }

    { 1900545301;3;Group  ;
                CaptionML=[ENU=Account Name;
                           RUS=Название счета] }

    { 35  ;4   ;Field     ;
                ApplicationArea=#Jobs;
                SourceExpr=AccName;
                Editable=FALSE;
                ShowCaption=No }

    { 1900295701;3;Group  ;
                CaptionML=[ENU=Bal. Account Name;
                           RUS=Назв. баланс. счета] }

    { 37  ;4   ;Field     ;
                CaptionML=[ENU=Bal. Account Name;
                           RUS=Назв. баланс. счета];
                ToolTipML=[ENU=Specifies the name of the balancing account that has been entered on the journal line.;
                           RUS=Определяет имя балансирующего счета, который указан в строке журнала.];
                ApplicationArea=#Jobs;
                SourceExpr=BalAccName;
                Editable=FALSE }

    { 1902759701;3;Group  ;
                CaptionML=[ENU=Balance;
                           RUS=Сальдо] }

    { 31  ;4   ;Field     ;
                Name=Balance;
                CaptionML=[ENU=Balance;
                           RUS=Сальдо];
                ToolTipML=[ENU=Specifies the balance that has accumulated in the journal on the line that you selected.;
                           RUS=Определяет баланс, накопленный в журнале в выбранной строке.];
                ApplicationArea=#All;
                SourceExpr=Balance + "Balance (LCY)" - xRec."Balance (LCY)";
                AutoFormatType=1;
                Visible=BalanceVisible;
                Editable=FALSE }

    { 1901652501;3;Group  ;
                CaptionML=[ENU=Total Balance;
                           RUS=Общее сальдо] }

    { 33  ;4   ;Field     ;
                Name=TotalBalance;
                CaptionML=[ENU=Total Balance;
                           RUS=Общее сальдо];
                ToolTipML=[ENU=Specifies the total balance in the journal.;
                           RUS=Определяет общий баланс по журналу.];
                ApplicationArea=#All;
                SourceExpr=TotalBalance + "Balance (LCY)" - xRec."Balance (LCY)";
                AutoFormatType=1;
                Visible=TotalBalanceVisible;
                Editable=FALSE }

    { 1900000007;0;Container;
                ContainerType=FactBoxArea }

    { 1900383207;1;Part   ;
                Visible=FALSE;
                PartType=System;
                SystemPartID=RecordLinks }

    { 1905767507;1;Part   ;
                Visible=FALSE;
                PartType=System;
                SystemPartID=Notes }

  }
  CODE
  {
    VAR
      GenJnlManagement@1002 : Codeunit 230;
      ReportPrint@1003 : Codeunit 228;
      ChangeExchangeRate@1001 : Page 511;
      GLReconcile@1000 : Page 345;
      CurrentJnlBatchName@1004 : Code[10];
      AccName@1005 : Text[50];
      BalAccName@1006 : Text[50];
      Balance@1007 : Decimal;
      TotalBalance@1008 : Decimal;
      ShowBalance@1009 : Boolean;
      ShowTotalBalance@1010 : Boolean;
      ShortcutDimCode@1011 : ARRAY [20] OF Code[20];
      BalanceVisible@19073040 : Boolean INDATASET;
      TotalBalanceVisible@19063333 : Boolean INDATASET;
      PreviewGuid@1013 : GUID;

    LOCAL PROCEDURE UpdateBalance@1();
    BEGIN
      GenJnlManagement.CalcBalance(Rec,xRec,Balance,TotalBalance,ShowBalance,ShowTotalBalance);
      BalanceVisible := ShowBalance;
      TotalBalanceVisible := ShowTotalBalance;
    END;

    LOCAL PROCEDURE CurrentJnlBatchNameOnAfterVali@19002411();
    BEGIN
      CurrPage.SAVERECORD;
      GenJnlManagement.SetName(CurrentJnlBatchName,Rec);
      CurrPage.UPDATE(FALSE);
    END;

    BEGIN
    END.
  }
}

