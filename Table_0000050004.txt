OBJECT Table 50004 FA Transformation Setup
{
  OBJECT-PROPERTIES
  {
    Date=05.07.17;
    Time=14:57:34;
    Modified=Yes;
    Version List=NOS-26;
  }
  PROPERTIES
  {
    DataPerCompany=No;
    CaptionML=[ENU=FA Transformation Setup;
               RUS=Трансформация Операций с ОС Настройка];
    LookupPageID=Page50030;
  }
  FIELDS
  {
    { 1   ;   ;No.                 ;Integer       ;CaptionML=[ENU=No.;
                                                              RUS=Но.] }
    { 3   ;   ;Extern. Debit Acc. No.;Code20      ;OnLookup=BEGIN
                                                              //ConsolidationSetup.GET;
                                                              //ConsolidationSetup.TESTFIELD(ConsolidationSetup."Company for FA Import");
                                                              //TESTFIELD("Consolidation Source Code");
                                                              //ConsolidationSource.GET("Consolidation Source Code");

                                                              //ConsolidationSource.TESTFIELD(ConsolidationSource."Receive Company");

                                                              GLAccount.RESET;
                                                              //GLAccount.CHANGECOMPANY(ConsolidationSetup."Company for FA Import");

                                                              CLEAR(GLAccountList);
                                                              //GLAccountList.SetCompName(ConsolidationSetup."Company for FA Import");
                                                              GLAccountList.LOOKUPMODE := TRUE;
                                                              IF GLAccountList.RUNMODAL = ACTION::LookupOK THEN BEGIN
                                                                GLAccountList.GETRECORD(GLAccount);
                                                                "Extern. Debit Acc. No." := GLAccount."No.";
                                                              END;
                                                            END;

                                                   CaptionML=[ENU=Extern. Debit Acc. No.;
                                                              RUS=Внеш. Дебет Фин. Счет] }
    { 4   ;   ;Extern. Credit Acc. No.;Code20     ;OnLookup=BEGIN
                                                              //ConsolidationSetup.GET;
                                                              //ConsolidationSetup.TESTFIELD(ConsolidationSetup."Company for FA Import");
                                                              {
                                                              TESTFIELD("Consolidation Source Code");
                                                              ConsolidationSource.GET("Consolidation Source Code");

                                                              ConsolidationSource.TESTFIELD(ConsolidationSource."Receive Company");
                                                              }

                                                              GLAccount.RESET;
                                                              //GLAccount.CHANGECOMPANY(ConsolidationSetup."Company for FA Import");


                                                              CLEAR(GLAccountList);
                                                              //GLAccountList.SetCompName(ConsolidationSetup."Company for FA Import");
                                                              GLAccountList.LOOKUPMODE := TRUE;
                                                              IF GLAccountList.RUNMODAL = ACTION::LookupOK THEN BEGIN
                                                                GLAccountList.GETRECORD(GLAccount);
                                                                "Extern. Credit Acc. No." := GLAccount."No.";
                                                              END;
                                                            END;

                                                   CaptionML=[ENU=Extern. Credit Acc. No.;
                                                              RUS=Внеш. Кредит Фин. Счет] }
    { 5   ;   ;Int. Contragent     ;Boolean       ;CaptionML=[ENU=Int. Contragent;
                                                              RUS=Внутренний Контрагент] }
    { 6   ;   ;FA Card Type Debit  ;Option        ;CaptionML=[ENU=FA Card Type Debit;
                                                              RUS=Тип Карточки ОС Дебет];
                                                   OptionCaptionML=[ENU=" ,FA,CIP";
                                                                    RUS=" ,ОС,ОВА"];
                                                   OptionString=[ ,FA,CIP] }
    { 7   ;   ;FA Card Type Credit ;Option        ;CaptionML=[ENU=FA Card Type Credit;
                                                              RUS=Тип Карточки ОС Кредит];
                                                   OptionCaptionML=[ENU=" ,FA,CIP";
                                                                    RUS=" ,ОС,ОВА"];
                                                   OptionString=[ ,FA,CIP] }
    { 8   ;   ;Navision Document Type;Option      ;CaptionML=[ENU=Navision Document Type;
                                                              RUS=Тип Документа Navision];
                                                   OptionCaptionML=[ENU=Gen. Journal,FA Journal,WriteOff Act;
                                                                    RUS=Фин. Журнал,ОС Журнал,Акт Списания];
                                                   OptionString=Gen. Journal,FA Journal,WriteOff Act }
    { 9   ;   ;Depreciation Book Debit;Code10     ;TableRelation="Depreciation Book";
                                                   CaptionML=[ENU=Depreciation Book Debit;
                                                              RUS=Книга Амортизации Дебет] }
    { 10  ;   ;Depreciation Book Credit;Code10    ;TableRelation="Depreciation Book";
                                                   CaptionML=[ENU=Depreciation Book Credit;
                                                              RUS=Книга Амортизации Кредит] }
    { 11  ;   ;FA Posting Group Debit;Code10      ;TableRelation="FA Posting Group";
                                                   CaptionML=[ENU=FA Posting Group Debit;
                                                              RUS=ОС Учетная Группа Дебет] }
    { 12  ;   ;FA Posting Group Credit;Code10     ;TableRelation="FA Posting Group";
                                                   CaptionML=[ENU=FA Posting Group Credit;
                                                              RUS=ОС Учетная Группа Кредит] }
    { 13  ;   ;Receiver Debit Acc. No;Code20      ;TableRelation="G/L Account";
                                                   CaptionML=[ENU=Transf. Debit Acc. No;
                                                              RUS=Трансф. Дебет Фин. Счет Но.] }
    { 14  ;   ;Receiver Credit Acc. No;Code20     ;TableRelation="G/L Account";
                                                   CaptionML=[ENU=Transf. Credit Acc. No;
                                                              RUS=Трансф. Кредит Фин. Счет Но.] }
    { 15  ;   ;Currency Code       ;Code10        ;CaptionML=[ENU=Currency Code;
                                                              RUS=Код Валюты] }
    { 16  ;   ;Capital. Percent    ;Boolean       ;CaptionML=[ENU=Capital. Percent;
                                                              RUS=Капитализация Процентов] }
    { 17  ;   ;Not Reclass         ;Boolean       ;CaptionML=[ENU=Not Reclass;
                                                              RUS=Не Реклассифицировать] }
    { 18  ;   ;FA Operation Type   ;Option        ;OnValidate=BEGIN
                                                                //NC PIF001 > DP
                                                                IF "FA Operation Type" <> "FA Operation Type"::Depreciation THEN BEGIN
                                                                  Storno := FALSE;
                                                                  MODIFY;
                                                                END
                                                                //NC PIF001 < DP
                                                              END;

                                                   CaptionML=[ENU=FA Operation Type;
                                                              RUS=Тип Операции ОС];
                                                   OptionCaptionML=[ENU=" ,Acquisition,Release,Leasing Release,Depreciation,Reclass,WriteOff,Transfer,Not Import";
                                                                    RUS=" ,Приобретение,Ввод в Эксплуатацию,Передача Лизингополучателю,Амортизация,Реклассификация,Выбытие,Перемещение,Не Импортировать"];
                                                   OptionString=[ ,Acquisition,Release,Leasing Release,Depreciation,Reclass,WriteOff,Transfer,Not Import] }
    { 19  ;   ;Leasing Object      ;Boolean       ;CaptionML=[ENU=Leasing Object;
                                                              RUS=Объект для Передачи в Лизинг] }
    { 20  ;   ;Reclass. Capital % Acc. No.;Code20 ;TableRelation="G/L Account";
                                                   CaptionML=[ENU=Reclass. Capital % Acc. No.;
                                                              RUS=Реклассификация Капитал. % Фин. Счет] }
    { 21  ;   ;Receiver Dim. Code 2;Code20        ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Receiver Dim. Code 2;
                                                              RUS=Приемник Измерение Код 2] }
    { 22  ;   ;Receiver Dim. Value 2;Code20       ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Receiver Dim. Code 2));
                                                   CaptionML=[ENU=Receiver Dim. Value 2;
                                                              RUS=Приемник Измерение Код Значения 2] }
    { 23  ;   ;Storno              ;Boolean       ;OnValidate=BEGIN
                                                                //NC PIF001 > DP
                                                                IF NOT ("FA Operation Type" IN ["FA Operation Type"::Acquisition,"FA Operation Type"::Depreciation]) THEN
                                                                  ERROR(Text001,FORMAT("FA Operation Type"::Acquisition),FORMAT("FA Operation Type"::Depreciation));

                                                                //TESTFIELD("FA Operation Type","FA Operation Type"::Depreciation)
                                                                //NC PIF001 < DP
                                                              END;

                                                   CaptionML=[ENU=Storno;
                                                              RUS=Сторно] }
    { 24  ;   ;FA Class Code       ;Code10        ;TableRelation="FA Class";
                                                   OnValidate=BEGIN
                                                                //NC PIF033 > DP
                                                                //TESTFIELD("FA Operation Type","FA Operation Type"::Release);
                                                                //NC PIF033 < DP
                                                              END;

                                                   CaptionML=[ENU=FA Class Code;
                                                              RUS=ОС Класс Код];
                                                   Description=NC MFA01 }
    { 25  ;   ;Receiver Dim. Code  ;Code20        ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Receiver Dim. Code 1;
                                                              RUS=Приемник Измерение Код 1];
                                                   Description=NC MFA01 }
    { 26  ;   ;Receiver Dim. Value ;Code20        ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Receiver Dim. Code));
                                                   CaptionML=[ENU=Receiver Dim. Value 1;
                                                              RUS=Приемник Измерение Код Значения 1];
                                                   Description=NC MFA01 }
    { 27  ;   ;Acquisition         ;Boolean       ;CaptionML=[ENU=Acquisition;
                                                              RUS=Приобретение];
                                                   Description=NC MFA11 }
    { 29  ;   ;Company Name        ;Text30        ;TableRelation=Company;
                                                   CaptionML=[ENU=Company Name;
                                                              RUS=Фирма Название];
                                                   Description=NC MFA01 }
    { 30  ;   ;Mapping Code        ;Code20        ;TableRelation=Mapping;
                                                   CaptionML=[ENU=Mapping Code;
                                                              RUS=Код Мэппинга];
                                                   Description=NC MFA01 }
    { 31  ;   ;FA Type             ;Option        ;OnValidate=BEGIN
                                                                //NC MFA11 > DP
                                                                TESTFIELD("FA Operation Type","FA Operation Type"::Acquisition);
                                                                //NC MFA11 < DP
                                                              END;

                                                   CaptionML=[ENU=FA Type;
                                                              RUS=ОС Тип];
                                                   OptionCaptionML=[ENU=" ,CIP,FA,IA,PE";
                                                                    RUS=" ,ОВА,ОС,НМА,РБП"];
                                                   OptionString=[ ,CIP,FA,IA,FE];
                                                   Description=NC MFA11 }
    { 32  ;   ;Receiver Dim. Code 3;Code20        ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Receiver Dim. Code 3;
                                                              RUS=Приемник Измерение Код 3];
                                                   Description=NC MFA11 }
    { 33  ;   ;Receiver Dim. Value 3;Code20       ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Receiver Dim. Code 3));
                                                   CaptionML=[ENU=Receiver Dim. Value 3;
                                                              RUS=Приемник Измерение Код Значения 3];
                                                   Description=NC MFA11 }
  }
  KEYS
  {
    {    ;Mapping Code,No.                        ;Clustered=Yes }
    {    ;Company Name,Extern. Debit Acc. No.,Extern. Credit Acc. No.,Int. Contragent,FA Operation Type,Navision Document Type,Currency Code }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      ConsolidationSource@1210000 : Record 50001;
      GLAccount@1210001 : Record 15;
      FAConsSetup@1210003 : Codeunit 50002;
      ConsolidationSetup@1210004 : Record 50000;
      Text001@1000000000 : TextConst 'ENU=FA Operation Type should be %1 or %2.;RUS=ОС Операция Тип должны быть %1 или %2.';
      GLAccountList@1101495000 : Page 50031;

    BEGIN
    {
      NC MFA01 DP Added fields 24-29
    }
    END.
  }
}

