OBJECT Table 50168 Buffer Deal Data from XML
{
  OBJECT-PROPERTIES
  {
    Date=12.07.17;
    Time=10:03:53;
    Modified=Yes;
    Version List=NOS-26;
  }
  PROPERTIES
  {
    DataPerCompany=No;
    CaptionML=[ENU=Buffer Deal Data from XML;
               RUS=Буфер Данных о Сделках из XML];
    LookupPageID=Page50111;
    DrillDownPageID=Page50111;
  }
  FIELDS
  {
    { 1   ;   ;Entry No.           ;Integer       ;AutoIncrement=Yes;
                                                   CaptionML=[ENU=Entry No.;
                                                              RUS=Операция Но.] }
    { 10  ;   ;Id External System  ;Code2         ;TableRelation="External System";
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Id External System;
                                                              RUS=Id Внешней Системы] }
    { 20  ;   ;Time Creation       ;DateTime      ;CaptionML=[ENU=Time Creation;
                                                              RUS=Время Создания] }
    { 25  ;   ;Type                ;Option        ;CaptionML=[ENU=Type;
                                                              RUS=Тип];
                                                   OptionCaptionML=[ENU=New,Modify,Delete;
                                                                    RUS=Новый,Изменение,Удаление];
                                                   OptionString=New,Modify,Delete }
    { 30  ;   ;Status              ;Option        ;CaptionML=[ENU=Status;
                                                              RUS=Статус];
                                                   OptionCaptionML=[ENU=New,Processing Complete,Processing Canceled,Canceled Manualy,Canceled Automatic;
                                                                    RUS=Новый,Обработка Завершена,Обработка Отменена,Ручная Отмена,Автоматическая Отмена];
                                                   OptionString=New,Processing Complete,Processing Canceled,Canceled Manualy,Canceled Automatic }
    { 40  ;   ;Time Complete       ;DateTime      ;CaptionML=[ENU=Time Complete;
                                                              RUS=Время Завершения Обработки] }
    { 50  ;   ;Error in Import     ;Boolean       ;CaptionML=[ENU=Error in Import;
                                                              RUS=Ошибка при загрузке] }
    { 51  ;   ;Export Cons. Source Code;Code20    ;CaptionML=[ENU=Export Cons. Source Code;
                                                              RUS=Код Источника Выгрузки] }
    { 52  ;   ;Export Consolidation Register;Integer;
                                                   CaptionML=[ENU=Export Consolidation Register;
                                                              RUS=Регистр Консолидации Выгрузки] }
    { 53  ;   ;Not Translate       ;Boolean       ;CaptionML=[ENU=Not Translate;
                                                              RUS=Не Транслировать] }
    { 60  ;   ;ID Message          ;Text50        ;CaptionML=[ENU=ID Message;
                                                              RUS=ID Сообщения] }
    { 70  ;   ;ID Queue            ;Text50        ;CaptionML=[ENU=ID Queue;
                                                              RUS=ID Очереди] }
    { 80  ;   ;Source Entry No.    ;Integer       ;TableRelation="XML Buffer 2";
                                                   CaptionML=[ENU=Source Entry No.;
                                                              RUS=Источник Операция Но.] }
    { 90  ;   ;Document ID         ;Code50        ;CaptionML=[ENU=Document ID;
                                                              RUS=Документ ID];
                                                   Description=NCS-2017 }
    { 95  ;   ;External Document ID;Code50        ;CaptionML=[ENU=External Document ID;
                                                              RUS=Внешний Документ ID];
                                                   Description=NCS-2017 }
    { 100 ;   ;Currency Code       ;Code10        ;CaptionML=[ENU=Currency Code;
                                                              RUS=Код Валюты Сделки] }
    { 101 ;   ;External Deal Type  ;Code20        ;CaptionML=[ENU=External Deal Type;
                                                              RUS=Внешний Тип Сделки] }
    { 102 ;   ;Event Code          ;Text20        ;CaptionML=[ENU=Event Code;
                                                              RUS=Код События] }
    { 110 ;   ;Execution Type      ;Code20        ;CaptionML=[ENU=Execution Type;
                                                              RUS=Тип Сообщения] }
    { 140 ;   ;Message Text        ;Text250       ;CaptionML=[ENU=Message Text;
                                                              RUS=Тип Сообщения Описание] }
    { 160 ;   ;Original Trade Date ;Date          ;CaptionML=[ENU=Original Trade Date;
                                                              RUS=Дата Заключения Сделки] }
    { 170 ;   ;Deal ID             ;Code20        ;CaptionML=[ENU=Deal ID;
                                                              RUS=ID Сделки] }
    { 171 ;   ;Leg Ref ID          ;Integer       ;CaptionML=[ENU=Leg Ref ID;
                                                              RUS=ID Ноги];
                                                   Description=NCS-1987 }
    { 180 ;   ;Report ID           ;Code20        ;CaptionML=[ENU=Report ID;
                                                              RUS=ID Сообщения] }
    { 190 ;   ;Report Ref. Id      ;Code20        ;CaptionML=[ENU=Report Ref. Id;
                                                              RUS=ID Предыдущего Сообщения] }
    { 250 ;   ;Trade Date          ;Date          ;CaptionML=[ENU=Trade Date;
                                                              RUS=Последняя Версия Сделки Дата] }
    { 330 ;   ;Description Fin. Instrument;Code20 ;CaptionML=[ENU=Description Fin. Instrument;
                                                              RUS=Описание Фин. Инструмент] }
    { 420 ;   ;Fin. Instrument No. ;Code20        ;CaptionML=[ENU=Fin. Instrument No.;
                                                              RUS=Фин. Инструмент Но.] }
    { 425 ;   ;Ext. Sys. Sent Message;Code10      ;CaptionML=[ENU=Ext. Sys. Sent Message;
                                                              RUS=Внеш. Сист. Отправ. Сообщение] }
    { 450 ;   ;Trade Direction     ;Option        ;CaptionML=[ENU=Trade Direction;
                                                              RUS=Направление Сделки];
                                                   OptionCaptionML=[ENU=" ,Buy,Sell";
                                                                    RUS=" ,Покупка,Продажа"];
                                                   OptionString=[ ,Buy,Sell] }
    { 460 ;   ;Comment             ;Text250       ;CaptionML=[ENU=Comment;
                                                              RUS=Комментарий] }
    { 470 ;   ;Id Legal Entity     ;Code15        ;CaptionML=[ENU=Id Legal Entity;
                                                              RUS=Id Юр. Лица] }
    { 475 ;   ;External Id Legal Entity;Code15    ;CaptionML=[ENU=External Id Legal Entity;
                                                              RUS=Внешний Id Юр. Лица] }
    { 480 ;   ;Customer No.        ;Code20        ;CaptionML=[ENU=Customer No.;
                                                              RUS=Клиент Но.] }
    { 490 ;   ;Book left FO        ;Code20        ;CaptionML=[ENU=Book left FO;
                                                              RUS=Book Слева Фронт Офис] }
    { 500 ;   ;Book left BO        ;Code20        ;CaptionML=[ENU=Book left BO;
                                                              RUS=Book Слева Бэк Офис] }
    { 510 ;   ;Book right FO       ;Code20        ;CaptionML=[ENU=Book right FO;
                                                              RUS=Book Справа Фронт Офис] }
    { 520 ;   ;Book right BO       ;Code20        ;CaptionML=[ENU=Book right BO;
                                                              RUS=Book Справа Бэк Офис] }
    { 550 ;   ;Deal between Book   ;Boolean       ;CaptionML=[ENU=Deal between Book;
                                                              RUS=Межбуковая Сделка] }
    { 560 ;   ;Payment Amount      ;Decimal       ;CaptionML=[ENU=Payment Amount;
                                                              RUS=Сумма Платежа] }
    { 570 ;   ;Payment Due Date    ;Date          ;CaptionML=[ENU=Payment Due Date;
                                                              RUS=Дата Платежа] }
    { 580 ;   ;Payment PV Amount   ;Decimal       ;CaptionML=[ENU=Payment PV Amount;
                                                              RUS=Сумма PV Эффекта для Платежа] }
    { 585 ;   ;Payment(Amount - PV Amount);Decimal;CaptionML=[ENU=Payment(Amount - PV Amount);
                                                              RUS=Платеж(Сумма - Сумма PV эффекта)];
                                                   Description=ncs-1911 }
    { 590 ;   ;Payment SubType     ;Integer       ;CaptionML=[ENU=Payment SubType;
                                                              RUS=Платеж Подтип] }
    { 600 ;   ;Payment Type        ;Text20        ;CaptionML=[ENU=Payment Type;
                                                              RUS=Платеж Тип] }
    { 610 ;   ;Settlement Type     ;Option        ;CaptionML=[ENU=Settlement Type;
                                                              RUS=Порядок Расчетов];
                                                   OptionCaptionML=[ENU=" ,Deliverable,Non-Deliverable,Cash,Cash on Delivery,Auction";
                                                                    RUS=" ,Поставочный,Беспоставочный,Наличные,Наложенным платежом,Аукцион"];
                                                   OptionString=[ ,Deliverable,Non-Deliverable,Cash,Cash on Delivery,Auction] }
    { 620 ;   ;Settlement Trans. Type;Text20      ;CaptionML=[ENU=Settlement Trans. Type;
                                                              RUS=Порядок Расчетов Транзакция Тип] }
    { 630 ;   ;Payer Code          ;Code20        ;CaptionML=[ENU=Payer Code;
                                                              RUS=Плательщик Код] }
    { 640 ;   ;Market Value Amount ;Decimal       ;CaptionML=[ENU=Market Value Amount;
                                                              RUS=Рыночное Значение Сумма] }
    { 650 ;   ;PL Amount           ;Decimal       ;CaptionML=[ENU=PL Amount;
                                                              RUS=PL Сумма] }
    { 660 ;   ;PL Amount Currency  ;Code10        ;CaptionML=[ENU=PL Amount Currency;
                                                              RUS=PL Сумма Код Валюты] }
    { 670 ;   ;UnDiscount Amount   ;Decimal       ;CaptionML=[ENU=UnDiscount Amount;
                                                              RUS=Недисконтированная Сумма] }
    { 680 ;   ;UnDiscount Amount Currency;Code10  ;CaptionML=[ENU=UnDiscount Amount Currency;
                                                              RUS=Недисконтированная Сумма Код Валюты] }
    { 690 ;   ;Market Value Amount Currency;Code10;CaptionML=[ENU=Market Value Amount Currency;
                                                              RUS=Рыночное Значение Код Валюты] }
    { 700 ;   ;Present Value Effect;Decimal       ;CaptionML=[ENU=Present Value Effect;
                                                              RUS=Сумма Дисконта];
                                                   Description=ncs-1933 }
    { 710 ;   ;Market Value with PV Effect;Decimal;CaptionML=[ENU=Market Value with PV Effect;
                                                              RUS=Дисконтированная Рыночная Стоимость];
                                                   Description=ncs-1933 }
    { 720 ;   ;Reversed Entry No.  ;Integer       ;Description=NCS-1967 }
    { 730 ;   ;Maturity Date       ;Date          ;CaptionML=[ENU=Maturity Date;
                                                              RUS=Дата Погашения];
                                                   Description=ncs-1971 }
    { 740 ;   ;Settlement Date     ;Date          ;CaptionML=[ENU=Settlement Date;
                                                              RUS=Дата Расчетов];
                                                   Description=ncs-1971 }
    { 750 ;   ;Namt                ;Decimal       ;Description=ncs-1972 }
    { 760 ;   ;CSDt                ;Date          ;CaptionML=[ENU=CSDt;
                                                              RUS=Расчетная Дата Платежа];
                                                   Description=ncs-1972,1978 }
    { 780 ;   ;Float Interest Rate ;Decimal       ;Description=ncs-1972 }
    { 790 ;   ;adjustedFixingDate  ;Date          ;Description=ncs-1972 }
    { 800 ;   ;Currency Future Cash Proceeds;Code10;
                                                   CaptionML=[ENU=Currency Future Cash Proceeds;
                                                              RUS=Сумма Будущих Платежей Валюта];
                                                   Description=ncs-2178 }
    { 810 ;   ;Future Cash Proceeds Amount;Decimal;CaptionML=[ENU=Future Cash Proceeds Amount;
                                                              RUS=Сумма Будущих Платежей];
                                                   Description=ncs-2178 }
    { 811 ;   ;Job Proccess ID     ;Integer       ;CaptionML=[ENU=Job Proccess ID;
                                                              RUS=Задача Выполнение ID];
                                                   Description=NCS-2024 AAP }
    { 812 ;   ;Job Proccess Iteration;Integer     ;CaptionML=[ENU=Job Proccess Iteration;
                                                              RUS=Задача Выполнение Итерация];
                                                   Description=NCS-2024 AAP }
    { 825 ;   ;Iteration Date Time ;DateTime      ;CaptionML=RUS=Время начала итерации;
                                                   Description=NCS-2024 AAP }
  }
  KEYS
  {
    {    ;Entry No.                               ;Clustered=Yes }
    {    ;Id External System,ID Message            }
    {    ;Document ID,Status,Id Legal Entity,Id External System,Not Translate }
    {    ;Id Legal Entity,Id External System,Not Translate,Status,Error in Import }
    {    ;Id Legal Entity,Id External System,Event Code,External Deal Type,Deal between Book,Deal ID,Currency Code,Not Translate,Trade Date }
    {    ;Currency Code,Event Code,Deal ID,Trade Date,Id Legal Entity,Id External System }
  }
  FIELDGROUPS
  {
  }
  CODE
  {

    BEGIN
    {
      TDRANCS-1753
      tdrancs-1911 > added field Payment(Amount - PV Amount)
      TDRANCS-1933 added fields Present Value Effect,Market Value with PV Effect
      NC S1967 PCH добавлено поле "Reversed Entry No."
      TDRANCS-1971 added fields Maturity Date, Settlement Date
      NCS-1972 added fields Namt, CEDt, Dt, Float Interest Rate,adjustedFixingDate
      NCS-1978 CEDt -> CSDt
      NCS-1987 Field 171 [Leg Ref ID] added
      NCS-2017 Fields "Document ID", "External Document ID" length changed 20->50
      ncs-2005 Leg Ref ID - eng caption
      tdrancs-2178 added fields "Currency Future Cash Proceeds","Future Cash Proceeds Amount"
      2208 key Currency Code,Event Code,Deal ID,Trade Date,Id Legal Entity,Id External System
      NCS-2024 AAP added field "Job Proccess ID", "Job Proccess Iteration","Iteration Date Time"
                   added index "Job Proccess ID,Job Proccess Iteration,Status,Entry No.,
                   added index "Id Legal Entity,Id External System,Not Translate,Status" + "Deal ID","Iteration Date Time","Trade Date"
      TDRANCS-2437 Modified keys Document ID,Status -> Document ID,Status,Id Legal Entity,Id External System,Not Translate
        Id Legal Entity,Id External System,Not Translate,Status -> Id Legal Entity,Id External System,Not Translate,Status,Error in Import
    }
    END.
  }
}

