OBJECT Table 17212 Tax Register Item Entry
{
  OBJECT-PROPERTIES
  {
    Date=09.09.14;
    Time=12:00:00;
    Version List=NAVRU8.00;
  }
  PROPERTIES
  {
    CaptionML=[ENU=Tax Register Item Entry;
               RUS=Операция по товару налогового регистра];
  }
  FIELDS
  {
    { 1   ;   ;Entry No.           ;Integer       ;CaptionML=[ENU=Entry No.;
                                                              RUS=Номер операции] }
    { 2   ;   ;Section Code        ;Code10        ;TableRelation="Tax Register Section";
                                                   CaptionML=[ENU=Section Code;
                                                              RUS=Код секции] }
    { 3   ;   ;Item No.            ;Code20        ;TableRelation=Item;
                                                   CaptionML=[ENU=Item No.;
                                                              RUS=Код товара] }
    { 4   ;   ;Starting Date       ;Date          ;CaptionML=[ENU=Starting Date;
                                                              RUS=Дата начала];
                                                   Editable=No }
    { 5   ;   ;Ending Date         ;Date          ;CaptionML=[ENU=Ending Date;
                                                              RUS=Дата окончания];
                                                   Editable=No }
    { 11  ;   ;Costing Method      ;Option        ;CaptionML=[ENU=Costing Method;
                                                              RUS=Метод учета себестоимости];
                                                   OptionCaptionML=[ENU=" ,FIFO,LIFO,Average,FIFO+LIFO";
                                                                    RUS=" ,FIFO,LIFO,Средняя,FIFO+LIFO"];
                                                   OptionString=[ ,FIFO,LIFO,Average,FIFO+LIFO] }
    { 12  ;   ;Entry Type          ;Option        ;CaptionML=[ENU=Entry Type;
                                                              RUS=Тип операции];
                                                   OptionCaptionML=[ENU=" ,Incoming,Spending";
                                                                    RUS=" ,Приход,Расход"];
                                                   OptionString=[ ,Incoming,Spending] }
    { 13  ;   ;Posting Date        ;Date          ;CaptionML=[ENU=Posting Date;
                                                              RUS=Дата учета] }
    { 14  ;   ;Qty. (Document)     ;Decimal       ;CaptionML=[ENU=Qty. (Document);
                                                              RUS=Кол-во (документ)];
                                                   BlankZero=Yes }
    { 15  ;   ;Amount (Document)   ;Decimal       ;CaptionML=[ENU=Amount (Document);
                                                              RUS=Сумма (документ)];
                                                   BlankZero=Yes;
                                                   Editable=No }
    { 16  ;   ;Entry Secondary Batch;Boolean      ;CaptionML=[ENU=Entry Secondary Batch;
                                                              RUS=Дополнительный раздел операции] }
    { 20  ;   ;Qty. (Batch)        ;Decimal       ;CaptionML=[ENU=Qty. (Batch);
                                                              RUS=Кол-во (партия)];
                                                   BlankZero=Yes }
    { 21  ;   ;Amount (Batch)      ;Decimal       ;CaptionML=[ENU=Amount (Batch);
                                                              RUS=Сумма (партия)];
                                                   BlankZero=Yes }
    { 22  ;   ;Credit Qty.         ;Decimal       ;CaptionML=[ENU=Credit Qty.;
                                                              RUS=Приход - кол-во];
                                                   BlankZero=Yes;
                                                   Editable=No }
    { 23  ;   ;Credit Amount       ;Decimal       ;CaptionML=[ENU=Credit Amount;
                                                              RUS=Сумма по кредиту];
                                                   BlankZero=Yes;
                                                   Editable=No }
    { 24  ;   ;Debit Qty.          ;Decimal       ;CaptionML=[ENU=Debit Qty.;
                                                              RUS=Расход - кол-во];
                                                   BlankZero=Yes;
                                                   Editable=No }
    { 25  ;   ;Debit Amount        ;Decimal       ;CaptionML=[ENU=Debit Amount;
                                                              RUS=Сумма по дебету];
                                                   BlankZero=Yes;
                                                   Editable=No }
    { 26  ;   ;Outstand. Quantity  ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Item Application Entry".Quantity WHERE (Batch Item Ledger Entry No.=FIELD(Appl. Entry No.),
                                                                                                            Posting Date=FIELD(UPPERLIMIT(Date Filter))));
                                                   CaptionML=[ENU=Outstand. Quantity;
                                                              RUS=Недопоставл. кол-во];
                                                   BlankZero=Yes;
                                                   Editable=No }
    { 27  ;   ;Original Amount     ;Decimal       ;CaptionML=[ENU=Original Amount;
                                                              RUS=Исходная сумма];
                                                   Editable=No }
    { 28  ;   ;Appl. Entry No.     ;Integer       ;TableRelation="Item Ledger Entry"."Entry No.";
                                                   CaptionML=[ENU=Appl. Entry No.;
                                                              RUS=Номер примененной операции];
                                                   BlankZero=Yes }
    { 29  ;   ;Batch Date          ;Date          ;CaptionML=[ENU=Batch Date;
                                                              RUS=Дата партии] }
    { 30  ;   ;Batch Qty.          ;Decimal       ;CaptionML=[ENU=Batch Qty.;
                                                              RUS=Кол-во партии];
                                                   BlankZero=Yes }
    { 31  ;   ;Batch Amount        ;Decimal       ;CaptionML=[ENU=Batch Amount;
                                                              RUS=Сумма партии];
                                                   BlankZero=Yes;
                                                   Editable=No }
    { 32  ;   ;Debit Unit Cost     ;Decimal       ;CaptionML=[ENU=Debit Unit Cost;
                                                              RUS=Дебет - себестоимость единицы];
                                                   BlankZero=Yes }
    { 38  ;   ;Where Used Register IDs;Code61     ;CaptionML=[ENU=Where Used Register IDs;
                                                              RUS=Коды регистра применимости] }
    { 50  ;   ;Date Filter         ;Date          ;FieldClass=FlowFilter;
                                                   CaptionML=[ENU=Date Filter;
                                                              RUS=Фильтр по дате] }
    { 100 ;   ;Cost Amount (Actual);Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Value Entry"."Cost Amount (Actual)" WHERE (Item Ledger Entry No.=FIELD(Ledger Entry No.)));
                                                   CaptionML=[ENU=Cost Amount (Actual);
                                                              RUS=Сумма себестоимости (факт.)];
                                                   BlankZero=Yes;
                                                   Editable=No }
    { 101 ;   ;Ledger Entry No.    ;Integer       ;TableRelation="Item Ledger Entry"."Entry No.";
                                                   CaptionML=[ENU=Ledger Entry No.;
                                                              RUS=Номер операции ГК];
                                                   BlankZero=Yes }
    { 102 ;   ;Document Type       ;Option        ;CaptionML=[ENU=Document Type;
                                                              RUS=Тип документа];
                                                   OptionCaptionML=[ENU=" ,Payment,Invoice,Credit Memo,Finance Charge Memo,Reminder,Refund,,,,,Receipt,Shipment,Return Rcpt.,Return Shpt.,,,,,,,Positive Adj.,Negative Adj.";
                                                                    RUS=" ,Оплата,Счет,Кредит-нота,Процент-нота,Напоминание,Возмещение,,,,,Прих. накл.,Расх. накл.,Возвр. прих. накл.,Возврат поставки,,,,,,,Приход,Расход"];
                                                   OptionString=[ ,Payment,Invoice,Credit Memo,Finance Charge Memo,Reminder,Refund,,,,,Receipt,Shipment,Return Rcpt.,Return Shpt.,,,,,,,Positive Adj.,Negative Adj.] }
    { 103 ;   ;Document No.        ;Code20        ;CaptionML=[ENU=Document No.;
                                                              RUS=Номер документа] }
    { 105 ;   ;Ledger Entry Type   ;Option        ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("Item Ledger Entry"."Entry Type" WHERE (Entry No.=FIELD(Ledger Entry No.)));
                                                   CaptionML=[ENU=Ledger Entry Type;
                                                              RUS=Тип операций];
                                                   OptionCaptionML=[ENU=Purchase,Sale,Positive Adjmt.,Negative Adjmt.,Transfer,Consumption,Output;
                                                                    RUS=Покупка,Продажа,Приход,Расход,Перемещение,Потребление,Выход];
                                                   OptionString=Purchase,Sale,Positive Adjmt.,Negative Adjmt.,Transfer,Consumption,Output;
                                                   Editable=No }
    { 106 ;   ;Description         ;Text70        ;CaptionML=[ENU=Description;
                                                              RUS=Описание] }
    { 107 ;   ;Correction          ;Boolean       ;CaptionML=[ENU=Correction;
                                                              RUS=Корректировка] }
    { 121 ;   ;Dimension 1 Value Code;Code20      ;CaptionML=[ENU=Dimension 1 Value Code;
                                                              RUS=Код значения измерения 1];
                                                   CaptionClass=TaxRegMgt.GetDimCaptionClass("Section Code",1) }
    { 122 ;   ;Dimension 2 Value Code;Code20      ;CaptionML=[ENU=Dimension 2 Value Code;
                                                              RUS=Код значения измерения 2];
                                                   CaptionClass=TaxRegMgt.GetDimCaptionClass("Section Code",2) }
    { 123 ;   ;Dimension 3 Value Code;Code20      ;CaptionML=[ENU=Dimension 3 Value Code;
                                                              RUS=Код значения измерения 3];
                                                   CaptionClass=TaxRegMgt.GetDimCaptionClass("Section Code",3) }
    { 124 ;   ;Dimension 4 Value Code;Code20      ;CaptionML=[ENU=Dimension 4 Value Code;
                                                              RUS=Код значения измерения 4];
                                                   CaptionClass=TaxRegMgt.GetDimCaptionClass("Section Code",4) }
    { 131 ;   ;Item Ledger Source Type;Option     ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("Item Ledger Entry"."Source Type" WHERE (Entry No.=FIELD(Ledger Entry No.)));
                                                   CaptionML=[ENU=Item Ledger Source Type;
                                                              RUS=Тип источника для книги товаров];
                                                   OptionCaptionML=[ENU=" ,Customer,Vendor,Item";
                                                                    RUS=" ,Клиент,Поставщик,Товар"];
                                                   OptionString=[ ,Customer,Vendor,Item];
                                                   Editable=No }
    { 132 ;   ;Sales/Purch. Account No.;Code20    ;TableRelation=IF (Item Ledger Source Type=FILTER(Customer|Vendor)) "G/L Account".No.;
                                                   CaptionML=[ENU=Sales/Purch. Account No.;
                                                              RUS=Номер счета продаж/покупок] }
    { 133 ;   ;Inventory Account No.;Code20       ;TableRelation="G/L Account".No.;
                                                   CaptionML=[ENU=Inventory Account No.;
                                                              RUS=Номер счета ГК склада] }
    { 134 ;   ;Direct Cost Account No.;Code20     ;TableRelation="G/L Account".No.;
                                                   CaptionML=[ENU=Direct Cost Account No.;
                                                              RUS=Номер счета прямых затрат] }
    { 135 ;   ;Sales/Purch. Posting Code;Code10   ;TableRelation=IF (Item Ledger Source Type=FILTER(Vendor)) "Vendor Posting Group".Code
                                                                 ELSE IF (Item Ledger Source Type=FILTER(Customer)) "Customer Posting Group".Code;
                                                   CaptionML=[ENU=Sales/Purch. Posting Code;
                                                              RUS=Код учета продаж/покупок] }
    { 136 ;   ;Location Code       ;Code10        ;TableRelation=Location;
                                                   CaptionML=[ENU=Location Code;
                                                              RUS=Код склада] }
    { 137 ;   ;Inventory Posting Group;Code10     ;TableRelation="Inventory Posting Group";
                                                   CaptionML=[ENU=Inventory Posting Group;
                                                              RUS=Учетная группа товаров] }
    { 138 ;   ;Gen. Bus. Posting Group;Code10     ;TableRelation="Gen. Business Posting Group";
                                                   CaptionML=[ENU=Gen. Bus. Posting Group;
                                                              RUS=Общая бизнес-группа] }
    { 139 ;   ;Gen. Prod. Posting Group;Code10    ;TableRelation="Gen. Product Posting Group";
                                                   CaptionML=[ENU=Gen. Prod. Posting Group;
                                                              RUS=Общая товарная группа] }
    { 186 ;   ;Debit Account No.   ;Code20        ;TableRelation="G/L Account".No.;
                                                   CaptionML=[ENU=Debit Account No.;
                                                              RUS=Номер дебетового счета] }
    { 187 ;   ;Credit Account No.  ;Code20        ;TableRelation="G/L Account".No.;
                                                   CaptionML=[ENU=Credit Account No.;
                                                              RUS=Номер кредитового счета] }
  }
  KEYS
  {
    {    ;Entry No.                               ;Clustered=Yes }
    {    ;Section Code,Ending Date                 }
    {    ;Section Code,Starting Date               }
    {    ;Section Code,Entry Type,Posting Date     }
    {    ;Section Code,Posting Date                }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      TaxRegMgt@1000 : Codeunit 17201;

    PROCEDURE ObjectName@1() : Text[100];
    VAR
      Item@1002 : Record 27;
    BEGIN
      IF Item.GET("Item No.") THEN
        EXIT(Item.Description);
    END;

    PROCEDURE Navigating@2();
    VAR
      Navigate@1000 : Page 344;
    BEGIN
      CLEAR(Navigate);
      Navigate.SetDoc("Posting Date","Document No.");
      Navigate.RUN;
    END;

    PROCEDURE DebitAccountName@3() : Text[100];
    VAR
      GLAcc@1000 : Record 15;
    BEGIN
      IF GLAcc.GET("Debit Account No.") THEN
        EXIT(GLAcc.Name);
    END;

    PROCEDURE CreditAccountName@4() : Text[100];
    VAR
      GLAcc@1000 : Record 15;
    BEGIN
      IF GLAcc.GET("Credit Account No.") THEN
        EXIT(GLAcc.Name);
    END;

    PROCEDURE UOMName@5() : Text[100];
    VAR
      Item@1000 : Record 27;
      UOM@1001 : Record 204;
    BEGIN
      IF Item.GET("Item No.") THEN
        IF UOM.GET(Item."Base Unit of Measure") THEN
          EXIT(UOM.Description);
    END;

    PROCEDURE SetFieldFilter@6(FieldNumber@1000 : Integer) FieldInList : Boolean;
    BEGIN
      FieldInList :=
        FieldNumber IN [
                        FIELDNO("Original Amount"),
                        FIELDNO("Amount (Batch)"),
                        FIELDNO("Credit Amount"),
                        FIELDNO("Debit Amount")
                        ];
    END;

    PROCEDURE SetTemplateFilter@7(TaxRegTemplate@1000 : Record 17202);
    BEGIN
      CASE TaxRegTemplate."Sum Field No." OF
        FIELDNO("Credit Amount"):
          SETFILTER("Credit Qty.",'<>0');
        FIELDNO("Debit Amount"):
          SETFILTER("Debit Qty.",'<>0');
      END;
    END;

    PROCEDURE FormTitle@8() : Text[250];
    VAR
      TaxRegName@1000 : Record 17200;
    BEGIN
      FILTERGROUP(2);
      TaxRegName.SETRANGE("Section Code","Section Code");
      TaxRegName.SETFILTER("Register ID",DELCHR(GETFILTER("Where Used Register IDs"),'=','~'));
      FILTERGROUP(0);
      IF TaxRegName.FIND('-') THEN
        IF TaxRegName.NEXT = 0 THEN
          EXIT(TaxRegName.Description);
    END;

    BEGIN
    END.
  }
}

