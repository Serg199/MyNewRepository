OBJECT Table 50001 Consolidation Source
{
  OBJECT-PROPERTIES
  {
    Date=14.04.17;
    Time=16:50:58;
    Modified=Yes;
    Version List=;
  }
  PROPERTIES
  {
    CaptionML=[ENU=Consolidation Source;
               RUS=Консолидация Источник];
    LookupPageID=Page50009;
  }
  FIELDS
  {
    { 1   ;   ;Code                ;Code20        ;CaptionML=[ENU=Code;
                                                              RUS=Код] }
    { 2   ;   ;Company Name        ;Text150       ;TableRelation=IF (Import Format=CONST(FromNavision)) Company;
                                                   CaptionML=[ENU=Company Name;
                                                              RUS=Название Фирмы] }
    { 7   ;   ;LCY Code            ;Code10        ;OnValidate=BEGIN
                                                                IF "Import Format"  = "Import Format"::FromNavision THEN BEGIN
                                                                  TESTFIELD("Company Name");
                                                                  Curr.CHANGECOMPANY("Company Name");
                                                                  IF (NOT Curr.GET("LCY Code")) AND ("LCY Code"  <> '') THEN
                                                                    ERROR(Text00002,"LCY Code","Company Name");
                                                                END;
                                                                //NC MDTY01 > MP
                                                                IF ("Import Format"  = "Import Format"::FromBuffer) AND "Use GL Mapping" THEN BEGIN
                                                                  IF (NOT Curr.GET("LCY Code")) AND ("LCY Code"  <> '') THEN
                                                                    ERROR(Text00005,"LCY Code");
                                                                END;
                                                                //NC MDTY01 < MP

                                                                //NC MIO-10.5 > DP
                                                                IF "Import Format"  = "Import Format"::FromBufferNAV THEN BEGIN
                                                                  IF (NOT Curr.GET("LCY Code")) AND ("LCY Code"  <> '') THEN
                                                                    ERROR(Text00005,"LCY Code");
                                                                END;
                                                                //NC MIO-10.5 < DP
                                                              END;

                                                   OnLookup=BEGIN
                                                              {
                                                              IF "Import Format"  = "Import Format"::FromNavision THEN BEGIN
                                                                CurrList.SetIntercompanyName("Company Name");
                                                                CurrList.LOOKUPMODE := TRUE;
                                                                IF CurrList.RUNMODAL = ACTION::LookupOK THEN BEGIN
                                                                  CurrList.GETRECORD(Curr);
                                                                  "LCY Code" := Curr.Code;
                                                                END;
                                                                CLEAR(CurrList);
                                                              END;
                                                              IF (("Import Format"  = "Import Format"::FromBuffer) AND "Use GL Mapping") OR
                                                               ("Import Format"  = "Import Format"::FromExtSystem)
                                                               //NC NCS-622.6 > DP
                                                               OR ("Import Format"  = "Import Format"::FromBufferDealEntry)
                                                               //NC NCS-622.6 > DP

                                                               //NC MIO-10.5 > DP
                                                               OR ("Import Format"  = "Import Format"::FromBufferNAV)
                                                               //NC MIO-10.5 < DP

                                                               THEN BEGIN
                                                                //CurrList.SetIntercompanyName("Company Name");
                                                                CurrList.LOOKUPMODE := TRUE;
                                                                IF CurrList.RUNMODAL = ACTION::LookupOK THEN BEGIN
                                                                  CurrList.GETRECORD(Curr);
                                                                  "LCY Code" := Curr.Code;
                                                                END;
                                                                CLEAR(CurrList);
                                                              END;
                                                              }
                                                            END;

                                                   CaptionML=[ENU=LCY Code;
                                                              RUS=Код Валюты Источника] }
    { 9   ;   ;Name                ;Text150       ;CaptionML=[ENU=Name;
                                                              RUS=Название] }
    { 20  ;   ;Gen. Journal Batch  ;Code10        ;OnValidate=BEGIN
                                                                //NC PIF001 > DP
                                                                IF "Gen. Journal Batch" <> '' THEN BEGIN
                                                                  ConsolidationSetup.GET;
                                                                  GenJnlBatch.GET(ConsolidationSetup."Gen. Jnl. Template","Gen. Journal Batch");
                                                                  ConsolSource1.SETRANGE("Gen. Journal Batch","Gen. Journal Batch");
                                                                  //ConsolSource1.SETRANGE(ConsolSource1."Receive Company", "Gen. Journal Batch");
                                                                  IF ConsolSource1.FIND('-') THEN
                                                                    ERROR(Text00001);
                                                                END;
                                                                //NC PIF001 < DP
                                                              END;

                                                   OnLookup=BEGIN
                                                              {
                                                              //NC PIF001 > DP
                                                              ConsolidationSetup.GET;
                                                              GenJnlBatch.SETRANGE("Journal Template Name", ConsolidationSetup."Gen. Jnl. Template");
                                                              IF FORM.RUNMODAL(FORM::Page251, GenJnlBatch) = ACTION::LookupOK THEN BEGIN
                                                                VALIDATE("Gen. Journal Batch", GenJnlBatch.Name);
                                                              END;
                                                              //NC PIF001 < DP
                                                              }
                                                            END;

                                                   CaptionML=[ENU=Gen. Journal Batch;
                                                              RUS=Фин. Журнал Раздел] }
    { 21  ;   ;Source  No. Series  ;Code10        ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Source No. Series;
                                                              RUS=Источник Серия Номеров] }
    { 25  ;   ;Use External File   ;Boolean       ;CaptionML=[ENU=Use External File;
                                                              RUS=Использовать Внешний Файл];
                                                   Description=NC PIF010 MP }
    { 30  ;   ;Last G/L Entry No.  ;Integer       ;CaptionML=[ENU=Last G/L Entry No.;
                                                              RUS=Последняя Операция Но.] }
    { 31  ;   ;Last Consolidation Date;Date       ;CaptionML=[ENU=Last Consolidation Date;
                                                              RUS=Дата Последней Консолидации];
                                                   Editable=No }
    { 32  ;   ;Last Consolidation Time;Time       ;CaptionML=[ENU=Last Consolidation Time;
                                                              RUS=Время Последней Консолидации];
                                                   Editable=No }
    { 33  ;   ;Last Creation Date  ;Date          ;CaptionML=[ENU=Last Creation Date;
                                                              RUS=Последняя Дата Создания] }
    { 41  ;   ;Blocked             ;Boolean       ;CaptionML=[ENU=Blocked;
                                                              RUS=Блокирован];
                                                   Editable=No }
    { 42  ;   ;Consolidation Rate Type;Option     ;OnValidate=VAR
                                                                ConvofChartofAccounts@1000000000 : Record 50002;
                                                              BEGIN
                                                              END;

                                                   CaptionML=[ENU=Consolidation Rate Type;
                                                              RUS=Консолидация Курс Тип];
                                                   OptionCaptionML=[ENU=Historical,Period Average,Weighted Average,End Period,User Defined;
                                                                    RUS=Исторический,Средний за период,Средневзвешенный,На конец периода,Пользовательский];
                                                   OptionString=Historical,Period Average,Weighted Average,End Period,User Defined }
    { 43  ;   ;Concolidate Add.-Curr. Amount;Boolean;
                                                   CaptionML=[ENU=Concolidate Add.-Curr. Amount;
                                                              RUS=Переносить Суммы в ДОВ];
                                                   Description=NCPIF001 }
    { 44  ;   ;Consolidate Dimensions;Boolean     ;InitValue=Yes;
                                                   CaptionML=[ENU=Consolidate Dimensions;
                                                              RUS=Переносить Измерения] }
    { 45  ;   ;Rounding Account    ;Code20        ;TableRelation="G/L Account";
                                                   CaptionML=[ENU=Rounding Account;
                                                              RUS=Счет Округлений] }
    { 46  ;   ;Rounding Limit      ;Decimal       ;CaptionML=[ENU=Rounding Limit;
                                                              RUS=Предел Округлений] }
    { 50  ;   ;Import Format       ;Option        ;CaptionML=[ENU=Import Format;
                                                              RUS=Формат Импорта];
                                                   OptionCaptionML=[ENU=From Ext. System,From Buffer,From NAV,Operation From Ext. System,Operation From Buffer,From Buffer NAV,From PreBuffer Deal Entry,From Buffer Deal Entry,Event Upload,FIOperation;
                                                                    RUS=Загрузка из Внеш. Системы,Загрузка данных из Буфера,Загрузка из фирмы NAV,Загрузка Операций из Внеш. Системы,Загрузка Операций из Буфера,Загрузка данных из Буфера NAV,Загрузка Операций по Сделкам,Обработка Операций по Сделкам,Загрузка Событий,ФИОперации];
                                                   OptionString=FromExtSystem,FromBuffer,FromNavision,OperationFromExtSystem,OperationFromBuffer,FromBufferNAV,FromPreBufferDealEntry,FromBufferDealEntry,EventUpload,FIOperation;
                                                   Description=NC MTF01 PCH, NCS-1655 }
    { 51  ;   ;Import Canceled Sessions;Boolean   ;CaptionML=[ENU=Import Canceled Sessions;
                                                              RUS=Загрузить Отмененные Сессии] }
    { 60  ;   ;Shortcut Dimension 1 Code;Code20   ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 1 Code;
                                                              RUS=Ярлык Измерение 1 Код] }
    { 61  ;   ;Shortcut Dimension 2 Code;Code20   ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 2 Code;
                                                              RUS=Ярлык Измерение 2 Код] }
    { 62  ;   ;Shortcut Dimension 3 Code;Code20   ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 3 Code;
                                                              RUS=Ярлык Измерение 3 Код] }
    { 63  ;   ;Shortcut Dimension 4 Code;Code20   ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 4 Code;
                                                              RUS=Ярлык Измерение 4 Код] }
    { 64  ;   ;Shortcut Dimension 5 Code;Code20   ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 5 Code;
                                                              RUS=Ярлык Измерение 5 Код] }
    { 65  ;   ;Shortcut Dimension 6 Code;Code20   ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 6 Code;
                                                              RUS=Ярлык Измерение 6 Код] }
    { 66  ;   ;Shortcut Dimension 7 Code;Code20   ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 7 Code;
                                                              RUS=Ярлык Измерение 7 Код] }
    { 67  ;   ;Shortcut Dimension 8 Code;Code20   ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 8 Code;
                                                              RUS=Ярлык Измерение 8 Код] }
    { 68  ;   ;Shortcut Dimension 9 Code;Code20   ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 9 Code;
                                                              RUS=Ярлык Измерение 9 Код];
                                                   Description=AK }
    { 69  ;   ;Shortcut Dimension 10 Code;Code20  ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 10 Code;
                                                              RUS=Ярлык Измерение 10 Код];
                                                   Description=AK }
    { 70  ;   ;Closed Period Journal Batch;Code10 ;OnValidate=BEGIN
                                                                //NC PIF001 > DP
                                                                IF "Closed Period Journal Batch" <> '' THEN BEGIN
                                                                  ConsolidationSetup.GET;
                                                                  GenJnlBatch.GET(ConsolidationSetup."Gen. Jnl. Template","Closed Period Journal Batch");
                                                                END;
                                                                //NC PIF001 < DP
                                                              END;

                                                   OnLookup=BEGIN
                                                              {
                                                              //NC PIF001 > DP
                                                              ConsolidationSetup.GET;
                                                              GenJnlBatch.SETRANGE("Journal Template Name", ConsolidationSetup."Gen. Jnl. Template");
                                                              IF FORM.RUNMODAL(FORM::Page251, GenJnlBatch) = ACTION::LookupOK THEN BEGIN
                                                                VALIDATE("Closed Period Journal Batch", GenJnlBatch.Name);
                                                              END;
                                                              //NC PIF001 < DP
                                                              }
                                                            END;

                                                   CaptionML=[ENU=Closed Period Journal Batch;
                                                              RUS=Закрытый Период Журнал Раздел];
                                                   Description=NCMAU02 MP }
    { 71  ;   ;Elimination  No. Series;Code10     ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Elimination No. Series;
                                                              RUS=Элиминирование Серия Номеров] }
    { 72  ;   ;Reposted Journal Batch;Code10      ;OnValidate=BEGIN
                                                                //NC PIF001 > DP
                                                                IF "Reposted Journal Batch" <> '' THEN BEGIN
                                                                  ConsolidationSetup.GET;
                                                                  GenJnlBatch.GET(ConsolidationSetup."Gen. Jnl. Template","Reposted Journal Batch");
                                                                END;
                                                                //NC PIF001 < DP
                                                              END;

                                                   OnLookup=BEGIN
                                                              {
                                                              //NC PIF001 > DP
                                                              ConsolidationSetup.GET;
                                                              GenJnlBatch.SETRANGE("Journal Template Name", ConsolidationSetup."Gen. Jnl. Template");
                                                              IF FORM.RUNMODAL(FORM::Page251, GenJnlBatch) = ACTION::LookupOK THEN BEGIN
                                                                VALIDATE("Reposted Journal Batch", GenJnlBatch.Name);
                                                              END;
                                                              //NC PIF001 < DP
                                                              }
                                                            END;

                                                   CaptionML=[ENU=Reposted Journal Batch;
                                                              RUS=Перепроведение Журнал Раздел] }
    { 73  ;   ;Reposted  No. Series;Code10        ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Reposted No. Series;
                                                              RUS=Перепроведение Серия Номеров] }
    { 74  ;   ;Removed Journal Batch;Code10       ;OnValidate=BEGIN
                                                                //NC PIF001 > DP
                                                                IF "Removed Journal Batch" <> '' THEN BEGIN
                                                                  ConsolidationSetup.GET;
                                                                  GenJnlBatch.GET(ConsolidationSetup."Gen. Jnl. Template","Removed Journal Batch");
                                                                END;
                                                                //NC PIF001 < DP
                                                              END;

                                                   OnLookup=BEGIN
                                                              {
                                                              //NC PIF001 > DP
                                                              ConsolidationSetup.GET;
                                                              GenJnlBatch.SETRANGE("Journal Template Name", ConsolidationSetup."Gen. Jnl. Template");
                                                              IF FORM.RUNMODAL(FORM::Page251, GenJnlBatch) = ACTION::LookupOK THEN BEGIN
                                                                VALIDATE("Removed Journal Batch", GenJnlBatch.Name);
                                                              END;
                                                              //NC PIF001 < DP
                                                              }
                                                            END;

                                                   CaptionML=[ENU=Removed Journal Batch;
                                                              RUS=Удаление Журнал Раздел] }
    { 75  ;   ;Removed  No. Series ;Code10        ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Removed No. Series;
                                                              RUS=Удаление Серия Номеров] }
    { 80  ;   ;Shortcut Dimension 11 Code;Code20  ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 11 Code;
                                                              RUS=Ярлык Измерение 11 Код];
                                                   Description=AK }
    { 81  ;   ;Shortcut Dimension 12 Code;Code20  ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 12 Code;
                                                              RUS=Ярлык Измерение 12 Код];
                                                   Description=AK }
    { 82  ;   ;Shortcut Dimension 13 Code;Code20  ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 13 Code;
                                                              RUS=Ярлык Измерение 13 Код];
                                                   Description=AK }
    { 83  ;   ;Shortcut Dimension 14 Code;Code20  ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 14 Code;
                                                              RUS=Ярлык Измерение 14 Код];
                                                   Description=AK }
    { 84  ;   ;Shortcut Dimension 15 Code;Code20  ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 15 Code;
                                                              RUS=Ярлык Измерение 15 Код];
                                                   Description=AK }
    { 85  ;   ;Shortcut Dimension 16 Code;Code20  ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 16 Code;
                                                              RUS=Ярлык Измерение 16 Код];
                                                   Description=AK }
    { 86  ;   ;Shortcut Dimension 17 Code;Code20  ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 17 Code;
                                                              RUS=Ярлык Измерение 17 Код];
                                                   Description=NC PIF001.2 DP }
    { 87  ;   ;Shortcut Dimension 18 Code;Code20  ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 18 Code;
                                                              RUS=Ярлык Измерение 18 Код];
                                                   Description=NCMDB01 MP }
    { 88  ;   ;Shortcut Dimension 19 Code;Code20  ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 19 Code;
                                                              RUS=Ярлык Измерение 19 Код];
                                                   Description=NCMDB01 MP }
    { 89  ;   ;Shortcut Dimension 20 Code;Code20  ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 20 Code;
                                                              RUS=Ярлык Измерение 20 Код];
                                                   Description=NCMDB01 MP }
    { 101 ;   ;Acquisition Gen. Batch Name;Code10 ;OnValidate=BEGIN
                                                                //NC PIF001 > MP
                                                                ValidateGenJnlBatch("Acquisition Gen. Batch Name");
                                                                //NC PIF001 < MP
                                                              END;

                                                   OnLookup=BEGIN
                                                              //NC PIF001 > MP
                                                              JnlBatchCode := '';
                                                              IF LookUpGenJnlBatch(JnlBatchCode) THEN
                                                                VALIDATE("Acquisition Gen. Batch Name",JnlBatchCode);
                                                              //NC PIF001 < MP
                                                            END;

                                                   CaptionML=[ENU=Acquisition Gen. Batch Name;
                                                              RUS=Приобретение Фин. Жур. Раздел];
                                                   Description=AK }
    { 102 ;   ;Release Gen. Batch Name;Code10     ;OnValidate=BEGIN
                                                                //NC PIF001 > MP
                                                                ValidateGenJnlBatch("Release Gen. Batch Name");
                                                                //NC PIF001 < MP
                                                              END;

                                                   OnLookup=BEGIN
                                                              //NC PIF001 > MP
                                                              JnlBatchCode := '';
                                                              IF LookUpGenJnlBatch(JnlBatchCode) THEN
                                                                VALIDATE("Release Gen. Batch Name",JnlBatchCode);
                                                              //NC PIF001 < MP
                                                            END;

                                                   CaptionML=[ENU=Release Gen. Batch Name;
                                                              RUS=Эксплуатация Фин. Жур. Раздел];
                                                   Description=AK }
    { 103 ;   ;Depreciation Gen. Batch Name;Code10;OnValidate=BEGIN
                                                                //NC PIF001 > MP
                                                                ValidateGenJnlBatch("Depreciation Gen. Batch Name");
                                                                //NC PIF001 < MP
                                                              END;

                                                   OnLookup=BEGIN
                                                              //NC PIF001 > MP
                                                              JnlBatchCode := '';
                                                              IF LookUpGenJnlBatch(JnlBatchCode) THEN
                                                                VALIDATE("Depreciation Gen. Batch Name",JnlBatchCode);
                                                              //NC PIF001 < MP
                                                            END;

                                                   CaptionML=[ENU=Depreciation Gen. Batch Name;
                                                              RUS=Амортизация Фин. Жур. Раздел];
                                                   Description=AK }
    { 104 ;   ;Reclass. Gen. Batch Name;Code10    ;OnValidate=BEGIN
                                                                //NC PIF001 > MP
                                                                ValidateGenJnlBatch("Reclass. Gen. Batch Name");
                                                                //NC PIF001 < MP
                                                              END;

                                                   OnLookup=BEGIN
                                                              //NC PIF001 > MP
                                                              JnlBatchCode := '';
                                                              IF LookUpGenJnlBatch(JnlBatchCode) THEN
                                                                VALIDATE("Reclass. Gen. Batch Name",JnlBatchCode);
                                                              //NC PIF001 < MP
                                                            END;

                                                   CaptionML=[ENU=Reclass. Gen. Batch Name;
                                                              RUS=Рекласс. Фин. Жур. Раздел];
                                                   Description=AK }
    { 105 ;   ;Acquisition FA Batch Name;Code10   ;OnValidate=BEGIN
                                                                //NC PIF001 > MP
                                                                ValidateFAJnlBatch("Acquisition FA Batch Name");
                                                                //NC PIF001 < MP
                                                              END;

                                                   OnLookup=BEGIN
                                                              //NC PIF001 > MP
                                                              JnlBatchCode := '';
                                                              IF LookUpFAJnlBatch(JnlBatchCode) THEN
                                                                VALIDATE("Acquisition FA Batch Name",JnlBatchCode);
                                                              //NC PIF001 < MP
                                                            END;

                                                   CaptionML=[ENU=Acquisition FA Batch Name;
                                                              RUS=Приобретение ОС Жур. Раздел];
                                                   Description=AK }
    { 106 ;   ;Release FA Batch Name;Code10       ;OnValidate=BEGIN
                                                                //NC PIF001 > MP
                                                                ValidateFAJnlBatch("Release FA Batch Name");
                                                                //NC PIF001 < MP
                                                              END;

                                                   OnLookup=BEGIN
                                                              //NC PIF001 > MP
                                                              JnlBatchCode := '';
                                                              IF LookUpFAJnlBatch(JnlBatchCode) THEN
                                                                VALIDATE("Release FA Batch Name",JnlBatchCode);
                                                              //NC PIF001 < MP
                                                            END;

                                                   CaptionML=[ENU=Release FA Batch Name;
                                                              RUS=Эксплуатация ОС Жур. Раздел];
                                                   Description=AK }
    { 107 ;   ;Depreciation FA Batch Name;Code10  ;OnValidate=BEGIN
                                                                //NC PIF001 > MP
                                                                ValidateFAJnlBatch("Depreciation FA Batch Name");
                                                                //NC PIF001 < MP
                                                              END;

                                                   OnLookup=BEGIN
                                                              //NC PIF001 > MP
                                                              JnlBatchCode := '';
                                                              IF LookUpFAJnlBatch(JnlBatchCode) THEN
                                                                VALIDATE("Depreciation FA Batch Name",JnlBatchCode);
                                                              //NC PIF001 < MP
                                                            END;

                                                   CaptionML=[ENU=Depreciation FA Batch Name;
                                                              RUS=Амортизация ОС Жур. Раздел];
                                                   Description=AK }
    { 108 ;   ;Dispose FA Batch Name;Code10       ;OnValidate=BEGIN
                                                                //NC PIF001 > MP
                                                                ValidateFAJnlBatch("Dispose FA Batch Name");
                                                                //NC PIF001 < MP
                                                              END;

                                                   OnLookup=BEGIN
                                                              //NC PIF001 > MP
                                                              JnlBatchCode := '';
                                                              IF LookUpFAJnlBatch(JnlBatchCode) THEN
                                                                VALIDATE("Dispose FA Batch Name",JnlBatchCode);
                                                              //NC PIF001 < MP
                                                            END;

                                                   CaptionML=[ENU=Dispose FA Batch Name;
                                                              RUS=Выбытие ОС Жур. Раздел];
                                                   Description=AK }
    { 109 ;   ;Reclass. FA Batch Name;Code10      ;OnValidate=BEGIN
                                                                //NC PIF001 > MP
                                                                ValidateFAJnlBatch("Reclass. FA Batch Name");
                                                                //NC PIF001 < MP
                                                              END;

                                                   OnLookup=BEGIN
                                                              //NC PIF001 > MP
                                                              JnlBatchCode := '';
                                                              IF LookUpFAJnlBatch(JnlBatchCode) THEN
                                                                VALIDATE("Reclass. FA Batch Name",JnlBatchCode);
                                                              //NC PIF001 < MP
                                                            END;

                                                   CaptionML=[ENU=Reclass. FA Batch Name;
                                                              RUS=Рекласс. ОС Жур. Раздел];
                                                   Description=DL }
    { 110 ;   ;Dispose Gen. Batch Name;Code10     ;OnValidate=BEGIN
                                                                //NC PIF001 > MP
                                                                ValidateGenJnlBatch("Dispose Gen. Batch Name");
                                                                //NC PIF001 < MP
                                                              END;

                                                   OnLookup=BEGIN
                                                              //NC PIF001 > MP
                                                              JnlBatchCode := '';
                                                              IF LookUpGenJnlBatch(JnlBatchCode) THEN
                                                                VALIDATE("Dispose Gen. Batch Name",JnlBatchCode);
                                                              //NC PIF001 < MP
                                                            END;

                                                   CaptionML=[ENU=Dispose Gen. Batch Name;
                                                              RUS=Выбытие Фин. Жур. Раздел];
                                                   Description=DL }
    { 111 ;   ;Closed Period Batch Name;Code10    ;OnValidate=BEGIN
                                                                //NC PIF001 > DP
                                                                IF "Closed Period Journal Batch" <> '' THEN BEGIN
                                                                  ConsolidationSetup.GET;
                                                                  GenJnlBatch.GET(ConsolidationSetup."Gen. Jnl. Template","Closed Period Journal Batch");
                                                                END;
                                                                //NC PIF001 < DP
                                                              END;

                                                   OnLookup=BEGIN
                                                              //NC PIF001 > MP
                                                              JnlBatchCode := '';
                                                              IF LookUpGenJnlBatch(JnlBatchCode) THEN
                                                                VALIDATE("Closed Period Batch Name",JnlBatchCode);
                                                              //NC PIF001 < MP
                                                            END;

                                                   CaptionML=[ENU=Closed Period Batch Name;
                                                              RUS=Закр. Период Фин. Жур. Раздел];
                                                   Description=NCMFA12 DP }
    { 120 ;   ;Structure Unit      ;Code20        ;OnValidate=BEGIN
                                                                //NC PIF001 > DP
                                                                IF "Structure Unit" <> '' THEN BEGIN
                                                                  ConsolidationSetup.GET;
                                                                  DimVal.GET(ConsolidationSetup."Structure Unit Dimension Code", "Structure Unit");
                                                                END;
                                                                //NC PIF001 < DP
                                                              END;

                                                   OnLookup=BEGIN
                                                              {
                                                              //NC PIF001 > DP
                                                              ConsolidationSetup.GET;
                                                              ConsolidationSetup.TESTFIELD("Structure Unit Dimension Code");
                                                              DimVal.SETRANGE("Dimension Code", ConsolidationSetup."Structure Unit Dimension Code");
                                                              IF FORM.RUNMODAL(0, DimVal) = ACTION::LookupOK THEN BEGIN
                                                                VALIDATE("Structure Unit", DimVal.Code);
                                                              END;
                                                              //NC PIF001 < DP
                                                              }
                                                            END;

                                                   CaptionML=[ENU=Structure Unit;
                                                              RUS=Структурное подразделение];
                                                   Description=AK }
    { 121 ;   ;Export Cons. Source ;Code20        ;TableRelation="Consolidation Source";
                                                   CaptionML=[ENU=Export Cons. Source;
                                                              RUS=Код Источника Выгрузки];
                                                   Description=AK }
    { 122 ;   ;Folder              ;Text250       ;CaptionML=[ENU=Folder;
                                                              RUS=Папка с файлами];
                                                   Description=AK }
    { 199 ;   ;FA Source           ;Boolean       ;CaptionML=[ENU=FA Source;
                                                              RUS=ОС Источник] }
    { 200 ;   ;Catalog FA CostCenter;Boolean      ;CaptionML=[ENU=Catalog FA CostCenter;
                                                              RUS=Каталог ОС ЦентрЗатрат];
                                                   Description=MFA01 }
    { 201 ;   ;Transfer Gen. Batch Name;Code10    ;OnValidate=BEGIN
                                                                //NC PIF001 > MP
                                                                ValidateGenJnlBatch("Transfer Gen. Batch Name");
                                                                //NC PIF001 < MP
                                                              END;

                                                   OnLookup=BEGIN
                                                              //NC PIF001 > MP
                                                              JnlBatchCode := '';
                                                              IF LookUpGenJnlBatch(JnlBatchCode) THEN
                                                                VALIDATE("Transfer Gen. Batch Name",JnlBatchCode);
                                                              //NC PIF001 < MP
                                                            END;

                                                   CaptionML=[ENU=Transfer Gen. Batch Name;
                                                              RUS=Перемещение Фин. Журнал Раздел];
                                                   Description=PIF001 MP }
    { 202 ;   ;Transfer FA Batch Name;Code10      ;OnValidate=BEGIN
                                                                //NC PIF001 > MP
                                                                ValidateFAJnlBatch("Transfer FA Batch Name");
                                                                //NC PIF001 < MP
                                                              END;

                                                   OnLookup=BEGIN
                                                              //NC PIF001 > MP
                                                              JnlBatchCode := '';
                                                              IF LookUpFAJnlBatch(JnlBatchCode) THEN
                                                                VALIDATE("Transfer FA Batch Name",JnlBatchCode);
                                                              //NC PIF001 < MP
                                                            END;

                                                   CaptionML=[ENU=Transfer FA Batch Name;
                                                              RUS=Перемещение ОС Журнал Раздел];
                                                   Description=PIF001 MP }
    { 205 ;   ;Business Unit Code  ;Code20        ;TableRelation="Business Unit";
                                                   OnValidate=VAR
                                                                locBU@1101495000 : Record 220;
                                                              BEGIN
                                                                //NC NCS-2166 > DP
                                                                {
                                                                //NC APCOC-107 > DP
                                                                IF locBU.GET("Business Unit Code") THEN
                                                                  IF locBU."Not Translate" THEN
                                                                    "Not Translate" := TRUE;
                                                                //NC APCOC-107 < DP
                                                                //NC APCOC-117 > RD
                                                                IF locBU.GET("Business Unit Code") THEN
                                                                  IF locBU."Not Translate IFRS" THEN
                                                                    "Not Translate IFRS" := TRUE;
                                                                //NC APCOC-117 < RD
                                                                }
                                                                //NC NCS-2166 < DP
                                                              END;

                                                   CaptionML=[ENU=Business Unit Code;
                                                              RUS=Филиал Код];
                                                   Description=NCPIF001 }
    { 206 ;   ;Compression         ;Boolean       ;CaptionML=[ENU=Compression;
                                                              RUS=Компрессия];
                                                   Description=NCPIF001 }
    { 207 ;   ;Only Global Dimensions;Boolean     ;CaptionML=[ENU=Only Global Dimensions;
                                                              RUS=Компрессия только по Глобальным Измерениям];
                                                   Description=NCPIF001 }
    { 208 ;   ;Income Currency Factor;Decimal     ;InitValue=1;
                                                   CaptionML=[ENU=Income Currency Factor;
                                                              RUS=Операционный Курс];
                                                   DecimalPlaces=0:15;
                                                   MinValue=0;
                                                   Description=NCPIF001;
                                                   Editable=Yes }
    { 209 ;   ;Balance Currency Factor;Decimal    ;InitValue=1;
                                                   CaptionML=[ENU=Balance Currency Factor;
                                                              RUS=Балансовый Курс];
                                                   DecimalPlaces=0:15;
                                                   MinValue=0;
                                                   Description=NCPIF001;
                                                   Editable=Yes }
    { 210 ;   ;Last Balance Currency Factor;Decimal;
                                                   InitValue=1;
                                                   CaptionML=[ENU=Last Balance Currency Factor;
                                                              RUS=Посл. Балансовый Курс];
                                                   DecimalPlaces=0:15;
                                                   Description=NCPIF001;
                                                   Editable=No }
    { 211 ;   ;Exch. Rate Losses Acc.;Code20      ;TableRelation="G/L Account";
                                                   OnValidate=BEGIN
                                                                CheckGLAcc("Exch. Rate Losses Acc.");
                                                              END;

                                                   CaptionML=[ENU=Exch. Rate Losses Acc.;
                                                              RUS=Счет Уб. Курс. Разн.];
                                                   Description=NCPIF001 }
    { 212 ;   ;Exch. Rate Gains Acc.;Code20       ;TableRelation="G/L Account";
                                                   OnValidate=BEGIN
                                                                CheckGLAcc("Exch. Rate Gains Acc.");
                                                              END;

                                                   CaptionML=[ENU=Exch. Rate Gains Acc.;
                                                              RUS=Курс. Прибыль Фин. Счет];
                                                   Description=NCPIF001 }
    { 213 ;   ;Residual Account    ;Code20        ;TableRelation="G/L Account";
                                                   OnValidate=BEGIN
                                                                CheckGLAcc("Residual Account");
                                                              END;

                                                   CaptionML=[ENU=Residual Account;
                                                              RUS=Остаточный Фин. Счет];
                                                   Description=NCPIF001 }
    { 214 ;   ;Report No.          ;Integer       ;OnLookup=BEGIN
                                                              {
                                                              //NC PIF001 > DP
                                                              CLEAR(DBObject);
                                                              Object.SETRANGE(Type,Object.Type::Report);
                                                              DBObject.SETRECORD(Object);
                                                              DBObject.SETTABLEVIEW(Object);
                                                              DBObject.LOOKUPMODE := TRUE;
                                                              IF DBObject.RUNMODAL = ACTION::LookupOK THEN BEGIN
                                                                DBObject.GETRECORD(Object);
                                                                "Report No." := Object.ID;
                                                              END;
                                                              //NC PIF001 < DP
                                                              }
                                                            END;

                                                   CaptionML=[ENU=Report No.;
                                                              RUS=Отчет Но.];
                                                   Description=NCPIF001 }
    { 215 ;   ;Sheet Name          ;Text30        ;CaptionML=[ENU=Sheet Name;
                                                              RUS=Лист Название];
                                                   Description=NCPIF001 }
    { 216 ;   ;Corresponding G/L Account No.;Code20;
                                                   TableRelation="G/L Account";
                                                   CaptionML=[ENU=Corresponding G/L Account No.;
                                                              RUS=Корреспонд. Фин. Счет Но.];
                                                   Description=NCPIF001 }
    { 217 ;   ;Cons. Balance       ;Boolean       ;CaptionML=[ENU=Cons. Balance;
                                                              RUS=Конс. Балансировать];
                                                   Description=NCPIF001 }
    { 218 ;   ;Cons. Max Round. Amount;Decimal    ;CaptionML=[ENU=Cons. Max Round. Amount;
                                                              RUS=Конс. Макс. Сумма Округл.];
                                                   Description=NCPIF001 }
    { 55030;  ;Allow Transformation To;Date       ;CaptionML=[ENU=Allow Transformation To;
                                                              RUS=Разрешить Трансформацию До];
                                                   Description=NC MIO-10 DP }
    { 55031;  ;Post Closed Period Batch;Boolean   ;CaptionML=[ENU=Post Closed Period Batch;
                                                              RUS=Учет Раздела Закрытого Периода];
                                                   Description=NC MIO-10 DP }
    { 56001;  ;Use GL Mapping      ;Boolean       ;CaptionML=[ENU=Use GL Mapping and Exceptions;
                                                              RUS=Использовать Мэппинг и Исключения];
                                                   Description=NCPIF001 }
    { 56005;  ;Not Translate       ;Boolean       ;CaptionML=[ENU=Not Translate;
                                                              RUS=Не Транслировать];
                                                   Description=NCAPCOC-107 DP }
    { 56006;  ;Not Translate IFRS  ;Boolean       ;CaptionML=[ENU=Not Translate IFRS;
                                                              RUS=Не Транслировать в IFRS];
                                                   Description=NC APCOC-117 RD }
    { 56010;  ;Mapping Code        ;Code20        ;TableRelation=Mapping;
                                                   CaptionML=[ENU=Trans. Scheme Code;
                                                              RUS=Схема Трансф. Код];
                                                   Description=NCPIF011 }
    { 56020;  ;Check Original Currency;Option     ;CaptionML=[ENU=Check Original Currency;
                                                              RUS=Проверка Оригинальной Валюты];
                                                   OptionCaptionML=[ENU=None,Position,Rates;
                                                                    RUS=Нет,Позиция,Курсы];
                                                   OptionString=None,Position,Rates;
                                                   Description=NCMDTY01 MP }
    { 56021;  ;External System     ;Code2         ;TableRelation="External System";
                                                   CaptionML=[ENU=External System;
                                                              RUS=Внешняя Система];
                                                   Description=NC MDM01 PCH }
    { 56022;  ;Offset Accounts Journal Batch;Code10;
                                                   OnValidate=BEGIN
                                                                //NC MTD06 > AIG
                                                                IF "Offset Accounts Journal Batch" <> '' THEN BEGIN
                                                                  ConsolidationSetup.GET;
                                                                  GenJnlBatch.GET(ConsolidationSetup."Gen. Jnl. Template","Offset Accounts Journal Batch");
                                                                END;
                                                                //NC MTD06 < AIG
                                                              END;

                                                   OnLookup=BEGIN
                                                              {
                                                              //NC MTD06 > AIG
                                                              ConsolidationSetup.GET;
                                                              GenJnlBatch.SETRANGE("Journal Template Name", ConsolidationSetup."Gen. Jnl. Template");
                                                              IF FORM.RUNMODAL(FORM::Page251, GenJnlBatch) = ACTION::LookupOK THEN BEGIN
                                                                VALIDATE("Offset Accounts Journal Batch", GenJnlBatch.Name);
                                                              END;
                                                              //NC MTD06 < AIG
                                                              }
                                                            END;

                                                   CaptionML=[ENU=Offset Accounts Journal Batch;
                                                              RUS=Offset-счета Раздел Журнала];
                                                   Description=NCMTD06 AIG }
    { 56023;  ;Speshial Control Journal Batch;Code10;
                                                   OnValidate=BEGIN
                                                                //NC MTD06 > AIG
                                                                IF "Speshial Control Journal Batch" <> '' THEN BEGIN
                                                                  ConsolidationSetup.GET;
                                                                  GenJnlBatch.GET(ConsolidationSetup."Gen. Jnl. Template","Speshial Control Journal Batch");
                                                                END;
                                                                //NC MTD06 < AIG
                                                              END;

                                                   OnLookup=BEGIN
                                                              {
                                                              //NC MTD06 > AIG
                                                              ConsolidationSetup.GET;
                                                              GenJnlBatch.SETRANGE("Journal Template Name", ConsolidationSetup."Gen. Jnl. Template");
                                                              IF FORM.RUNMODAL(FORM::Page251, GenJnlBatch) = ACTION::LookupOK THEN BEGIN
                                                                VALIDATE("Speshial Control Journal Batch", GenJnlBatch.Name);
                                                              END;
                                                              //NC MTD06 < AIG
                                                              }
                                                            END;

                                                   CaptionML=[ENU=Speshial Control Journal Batch;
                                                              RUS=Ручной Контроль Обязательности Раздел Журнала];
                                                   Description=NCMTD06 AIG }
    { 56024;  ;Reset Busines Unit for Offset;Boolean;
                                                   CaptionML=[ENU=Reset Busines Unit for Offset;
                                                              RUS=Сброс Филиала для Offset-счетов];
                                                   Description=NC APCOC-112 }
    { 56025;  ;AE PreProcessing    ;Text30        ;CaptionML=[ENU=AE PreProcessing;
                                                              RUS=AE Пред обработка];
                                                   Description=NC S622.1 PCH }
    { 56026;  ;AE PreProcessing Date;DateFormula  ;CaptionML=[ENU=AE PreProcessing Date;
                                                              RUS=AE Предобработка Дата];
                                                   Description=NCS-1031,NCS-1161 }
    { 56027;  ;AE PreProcessing Period;DateFormula;CaptionML=[ENU=AE PreProcessing Period;
                                                              RUS=AE Предобработка Период];
                                                   Description=NCS-1031,NCS-1161 }
    { 56030;  ;Processing Till Date (Formula);DateFormula;
                                                   CaptionML=[ENU=Processing Till Date (Formula);
                                                              RUS=Обработка до Даты (Формула)];
                                                   Description=NCS-2129 DP }
    { 56040;  ;FI Journal Batch    ;Code10        ;OnValidate=BEGIN
                                                                //NCS-2360 > AAP
                                                                IF "FI Journal Batch" <> '' THEN BEGIN
                                                                  ConsolidationSetup.GET;
                                                                  FIJnlBatch.GET(ConsolidationSetup."FI Jnl. Template","FI Journal Batch");
                                                                  ConsolSource1.RESET;
                                                                  ConsolSource1.SETRANGE("FI Journal Batch","FI Journal Batch");
                                                                  IF ConsolSource1.FIND('-') THEN
                                                                    ERROR(Text00101);
                                                                END;
                                                                //NCS-2360 < AAP
                                                              END;

                                                   OnLookup=BEGIN
                                                              {
                                                              //NCS-2360 > AAP
                                                              ConsolidationSetup.GET;
                                                              FIJnlBatch.RESET;
                                                              FIJnlBatch.SETRANGE("Journal Template Name", ConsolidationSetup."FI Jnl. Template");
                                                              IF FORM.RUNMODAL(0, FIJnlBatch) = ACTION::LookupOK THEN BEGIN
                                                                VALIDATE("FI Journal Batch", FIJnlBatch.Name);
                                                              END;
                                                              //NCS-2360 < AAP
                                                              }
                                                            END;

                                                   CaptionML=[ENU=FI Journal Batch;
                                                              RUS=ФИ Журнал Раздел];
                                                   Description=NCS-2360 AAP }
    { 56041;  ;FI Journal No. Series;Code10       ;TableRelation="No. Series";
                                                   CaptionML=[ENU=FI Journal No. Series;
                                                              RUS=ФИ Журнал Серия Номеров];
                                                   Description=NCS-2360 AAP }
    { 56042;  ;Cancel FI Journal Batch;Code10     ;OnValidate=BEGIN

                                                                //NCS-2360 > AAP
                                                                IF "Cancel FI Journal Batch" <> '' THEN BEGIN
                                                                  ConsolidationSetup.GET;
                                                                  FIJnlBatch.GET(ConsolidationSetup."FI Jnl. Template","Cancel FI Journal Batch");
                                                                END;
                                                                //NCS-2360 < AAP
                                                              END;

                                                   OnLookup=BEGIN
                                                              {
                                                              //NCS-2360 > AAP
                                                              ConsolidationSetup.GET;
                                                              FIJnlBatch.RESET;
                                                              FIJnlBatch.SETRANGE("Journal Template Name", ConsolidationSetup."FI Jnl. Template");
                                                              IF FORM.RUNMODAL(0, FIJnlBatch) = ACTION::LookupOK THEN BEGIN
                                                                VALIDATE("Cancel FI Journal Batch", FIJnlBatch.Name);
                                                              END;
                                                              //NCS-2360 < AAP
                                                              }
                                                            END;

                                                   CaptionML=[ENU=Cancel FI Journal Batch;
                                                              RUS=Отмена ФИ Журнал Раздел];
                                                   Description=NCS-2360 AAP }
    { 56043;  ;Cancel FI Jnl. No. Series;Code10   ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Cancel FI Jnl. No. Series;
                                                              RUS=Отмена ФИ Жур. Серия Номеров];
                                                   Description=NCS-2360 AAP }
    { 56044;  ;Correction FI Journal Batch;Code10 ;OnValidate=BEGIN
                                                                //NCS-2360 > AAP
                                                                IF "Correction FI Journal Batch" <> '' THEN BEGIN
                                                                  ConsolidationSetup.GET;
                                                                  FIJnlBatch.GET(ConsolidationSetup."FI Jnl. Template","Correction FI Journal Batch");
                                                                END;
                                                                //NCS-2360 < AAP
                                                              END;

                                                   OnLookup=BEGIN
                                                              {
                                                              //NCS-2360 > AAP
                                                              ConsolidationSetup.GET;
                                                              FIJnlBatch.RESET;
                                                              FIJnlBatch.SETRANGE("Journal Template Name", ConsolidationSetup."FI Jnl. Template");
                                                              IF FORM.RUNMODAL(0, FIJnlBatch) = ACTION::LookupOK THEN BEGIN
                                                                VALIDATE("Correction FI Journal Batch", FIJnlBatch.Name);
                                                              END;
                                                              //NCS-2360 < AAP
                                                              }
                                                            END;

                                                   CaptionML=[ENU=Correction FI Journal Batch;
                                                              RUS=Коррекция ФИ Журнал Раздел];
                                                   Description=NCS-2360 AAP }
    { 56045;  ;Correction FI Jnl. No. Series;Code10;
                                                   TableRelation="No. Series";
                                                   CaptionML=[ENU=Correction FI Jnl. No. Series;
                                                              RUS=Коррекция ФИ Жур. Серия Номеров];
                                                   Description=NCS-2360 AAP }
  }
  KEYS
  {
    {    ;Code                                    ;Clustered=Yes }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      "NCV>"@1000000002 : Integer;
      ConsolidationSetup@1000000004 : Record 50000;
      GenJnlBatch@1101495003 : Record 232;
      ConsolSource1@1000000006 : Record 50001;
      NotFilter@1101495000 : Boolean;
      DimVal@1210001 : Record 349;
      "NCV<"@1000000003 : Integer;
      Text00001@1000000009 : TextConst 'RUS=Выбранный раздел уже присвоен другому источнику консолидации. Выберите другой Фин. Журнал Раздел.';
      Curr@1000000010 : Record 4;
      Text00002@1000000011 : TextConst 'RUS=Код Валюты %1 не существует в Фирме %2.';
      AnalisView@1000000014 : Record 363;
      Object@1210002 : Record 2000000001;
      Text00003@1101495001 : TextConst 'ENU=You must specify %1 in %2 in Company %3.;RUS=Вы должны определить %1 в %2 фирмы %3.';
      Text00004@1101495002 : TextConst 'ENU=You must specify %1 in Company %2.;RUS=Вы должны определить %1 в фирме %2.';
      JnlBatchCode@1101495004 : Code[10];
      Text00005@1000000000 : TextConst 'RUS=Код Валюты %1 не существует.';
      Text00101@1101495005 : TextConst 'RUS=Выбранный раздел уже присвоен другому источнику консолидации. Выберите другой Фин. Инструмент Журнал Раздел.';
      FIJnlBatch@1101495006 : Record 50219;

    LOCAL PROCEDURE CheckGLAcc@2(AccNo@1000 : Code[20]);
    VAR
      GLAcc@1001 : Record 15;
    BEGIN
      IF AccNo <> '' THEN BEGIN
        GLAcc.GET(AccNo);
        GLAcc.CheckGLAcc;
      END;
    END;

    PROCEDURE ValidateGenJnlBatch@1101495000(GenJnlBatchCode@1101495000 : Code[10]);
    VAR
      ConsSetup@1101495001 : Record 50000;
      GenJournalBatch@1101495002 : Record 232;
    BEGIN
      //NC PIF001 > DP
      CLEAR(ConsSetup);
      CLEAR(GenJournalBatch);
      //TESTFIELD("FA Import Company Name");
      //ConsSetup.CHANGECOMPANY("FA Import Company Name");
      //GenJournalBatch.CHANGECOMPANY("FA Import Company Name");
      IF GenJnlBatchCode <> '' THEN BEGIN
        ConsSetup.GET;
        GenJournalBatch.GET(ConsSetup."FA Import Journal Template",GenJnlBatchCode);
      END;
      //NC PIF001 < DP
    END;

    PROCEDURE LookUpGenJnlBatch@1101495001(VAR GenJnlBatchCode@1101495000 : Code[10]) : Boolean;
    VAR
      ConsSetup@1101495002 : Record 50000;
      GenJournalBatch@1101495001 : Record 232;
    BEGIN
      {
      //NC PIF001 > DP
      CLEAR(ConsSetup);
      CLEAR(GenJournalBatch);
      //TESTFIELD("FA Import Company Name");
      //ConsSetup.CHANGECOMPANY("FA Import Company Name");
      //GenJournalBatch.CHANGECOMPANY("FA Import Company Name");
      IF NOT ConsSetup.GET THEN
        //ERROR(Text00004,ConsSetup.TABLECAPTION,"FA Import Company Name");
        ERROR(Text00004,ConsSetup.TABLECAPTION,COMPANYNAME);
      IF ConsSetup."FA Import Journal Template" = '' THEN
        ERROR(Text00003,ConsSetup.FIELDCAPTION("FA Import Journal Template"),
          //ConsSetup.TABLECAPTION,"FA Import Company Name");
          ConsSetup.TABLECAPTION,COMPANYNAME);
      GenJournalBatch.SETRANGE("Journal Template Name", ConsSetup."FA Import Journal Template");
      IF FORM.RUNMODAL(FORM::Page50027, GenJournalBatch) = ACTION::LookupOK THEN BEGIN
        GenJnlBatchCode := GenJournalBatch.Name;
        EXIT(TRUE);
      END;
      EXIT(FALSE);
      //NC PIF001 < DP
      }
    END;

    PROCEDURE ValidateFAJnlBatch@1101495002(FAJnlBatchCode@1101495002 : Code[10]);
    VAR
      ConsSetup@1101495000 : Record 50000;
      FAJnlBatch@1101495001 : Record 5620;
    BEGIN
      //NC PIF001 > DP
      CLEAR(ConsSetup);
      CLEAR(FAJnlBatch);
      //TESTFIELD("FA Import Company Name");
      //ConsSetup.CHANGECOMPANY("FA Import Company Name");
      //FAJnlBatch.CHANGECOMPANY("FA Import Company Name");
      IF FAJnlBatchCode <> '' THEN BEGIN
        ConsSetup.GET;
        FAJnlBatch.GET(ConsSetup."FA Import FA Jnl Template",FAJnlBatchCode);
      END;
      //NC PIF001 < DP
    END;

    PROCEDURE LookUpFAJnlBatch@1101495003(VAR FAJnlBatchCode@1101495000 : Code[10]) : Boolean;
    VAR
      ConsSetup@1101495002 : Record 50000;
      FAJnlBatch@1101495001 : Record 5620;
    BEGIN
      {
      //NC PIF001 > DP
      CLEAR(ConsSetup);
      CLEAR(FAJnlBatch);
      //TESTFIELD("FA Import Company Name");
      //ConsSetup.CHANGECOMPANY("FA Import Company Name");
      //FAJnlBatch.CHANGECOMPANY("FA Import Company Name");
      IF NOT ConsSetup.GET THEN
        //ERROR(Text00004,ConsSetup.TABLECAPTION,"FA Import Company Name");
        ERROR(Text00004,ConsSetup.TABLECAPTION,COMPANYNAME);
      IF ConsSetup."FA Import FA Jnl Template" = '' THEN
        ERROR(Text00003,ConsSetup.FIELDCAPTION("FA Import FA Jnl Template"),
          //ConsSetup.TABLECAPTION,"FA Import Company Name");
          ConsSetup.TABLECAPTION,COMPANYNAME);
      FAJnlBatch.SETRANGE("Journal Template Name", ConsSetup."FA Import FA Jnl Template");
      IF FORM.RUNMODAL(FORM::Page50028, FAJnlBatch) = ACTION::LookupOK THEN BEGIN
        FAJnlBatchCode := FAJnlBatch.Name;
        EXIT(TRUE);
      END;
      EXIT(FALSE);
      //NC PIF001 < DP
      }
    END;

    BEGIN
    {
      NC PIF001 AK Таблица перенесена с другого проекта и кастомизирована
      NC PIF001 DL Добавлено поле FA Import Company Name
      NC PIF001.02 DL Добавлено поле Reclass. FA Batch Name, "Dispose Gen. Batch Name"
      NC PIF001 AK Добавлено поле File Import Source Filter
      NC PIF001 MP Новые поля Transfer Gen. Batch Name, Transfer FA Batch Name
      NC PIF001 MP Новые поля 205..206
      NC PIF001 DP Новые поля 208..218
      NC MDTY01 MP Новое поле Check Original Currency
      NC MDM01 PCH Добавлено поле "External System"
      NC MAU02 MP Новое поле Closed Period Journal Batch
      NC MTD06 AIG Добавлено поле Offset Accounts Journal Batch
      NC MTF01 PCH В поле Import Format добавлены оции
      NC APCOC-107 DP Поле "Not Translate"
      NC APCOC-112 PCH добавлено поле Reset Busines Unit for Offset
      NC APCOC-117 RD Поле "Not Translate IFRS"
      NC S622 PCH Добавлены опции FromPreBufferDealEntry,FromBufferDealEntry в "Import Format"
      NC BLD01 PCH создан билд BLD01 = NCPIF001,MDB01,MDTY01,MDM01,MAU02,MTD06,MTF01
      NC S622.1 PCH добавлено поле AE PreProcessing
      NC S622.6 DP Выбор валюты для FromBufferDealEntry
      NC NCS-1031 DP Добавлено поле "AE PreProcessing Date"
      NC NCS-1161 DP Смена типа полей "AE PreProcessing Date","AE PreProcessing Period" на DateFormula
      NC MIO-10 DP Добавлены поля "Allow Transformation To", "Post Closed Period Batch",
      NC MIO-10.5 DP Изменены триггеры LCY_Code - OnValidate, LCY_Code - OnLookup
      NC S1753 PCH Добавлены опции FromBufferDealEntry2 в "Import Format"
      NC BLD02 DP создан билд, включающий модификации BLD01,APCOC-107,112,117,NCS-622.6,NCS-1031,NCS-1161,MIO-10.5,S1753
      NC NCS=2129 DP добавлено поле "Processing Till Date"
      NC NCS-2166 DP изменен триггер Business Unit Code - OnValidate()
      NC NCS-2360 AAP Добавлена опция в поле "Import Format". Добавлены поля "FI Journal Batch", "FI Journal No. Series",
                      "Cancel FI Journal Batch", "Cancel FI Jnl. No. Series", "Correction FI Journal Batch",
                      "Correction FI Jnl. No. Series"
    }
    END.
  }
}

