OBJECT Table 14908 Invent. Act Header
{
  OBJECT-PROPERTIES
  {
    Date=18.12.13;
    Time=12:00:00;
    Version List=NAVRU7.10;
  }
  PROPERTIES
  {
    OnInsert=BEGIN
               IF "No." = '' THEN BEGIN
                 GLSetup.GET;
                 GLSetup.TESTFIELD("Contractor Invent. Act Nos.");
                 "No." := NoSeriesManagement.GetNextNo(GLSetup."Contractor Invent. Act Nos.",WORKDATE,TRUE);
               END;

               "Act Date" := WORKDATE;
               "Inventory Date" := WORKDATE;
             END;

    OnDelete=VAR
               InventActLine@1210000 : Record 14909;
             BEGIN
               TestStatus;

               InventActLine.SETRANGE("Act No.","No.");
               IF InventActLine.FINDFIRST THEN
                 InventActLine.DELETEALL;
             END;

    CaptionML=[ENU=Invent. Act Header;
               RUS=Заголовок акта сверки взаиморасчетов];
    LookupPageID=Page14911;
  }
  FIELDS
  {
    { 1   ;   ;No.                 ;Code20        ;OnValidate=BEGIN
                                                                TestStatus;
                                                              END;

                                                   CaptionML=[ENU=No.;
                                                              RUS=Номер] }
    { 2   ;   ;Inventory Date      ;Date          ;OnValidate=BEGIN
                                                                TestStatus;
                                                              END;

                                                   CaptionML=[ENU=Inventory Date;
                                                              RUS=Дата инвентаризации] }
    { 3   ;   ;Reason Document Type;Option        ;OnValidate=BEGIN
                                                                TestStatus;
                                                              END;

                                                   CaptionML=[ENU=Reason Document Type;
                                                              RUS=Тип документа-основания];
                                                   OptionCaptionML=[ENU=Order,Resolution,Regulation;
                                                                    RUS=Приказ,Постановление,Распоряжение];
                                                   OptionString=Order,Resolution,Regulation }
    { 4   ;   ;Reason Document No. ;Code20        ;OnValidate=BEGIN
                                                                TestStatus;
                                                              END;

                                                   CaptionML=[ENU=Reason Document No.;
                                                              RUS=Номер документа-основания] }
    { 5   ;   ;Reason Document Date;Date          ;OnValidate=BEGIN
                                                                TestStatus;
                                                              END;

                                                   CaptionML=[ENU=Reason Document Date;
                                                              RUS=Дата документа-основания] }
    { 6   ;   ;Act Date            ;Date          ;OnValidate=BEGIN
                                                                TestStatus;
                                                              END;

                                                   CaptionML=[ENU=Act Date;
                                                              RUS=Дата акта] }
    { 10  ;   ;Status              ;Option        ;CaptionML=[ENU=Status;
                                                              RUS=Статус];
                                                   OptionCaptionML=[ENU=Open,Released;
                                                                    RUS=Открыто,Выпущено];
                                                   OptionString=Open,Released;
                                                   Editable=No }
    { 11  ;   ;No. Series          ;Code10        ;TableRelation="No. Series";
                                                   CaptionML=[ENU=No. Series;
                                                              RUS=Серия номеров] }
  }
  KEYS
  {
    {    ;No.                                     ;Clustered=Yes }
  }
  FIELDGROUPS
  {
    { 1   ;DropDown            ;No.,Inventory Date,Act Date              }
  }
  CODE
  {
    VAR
      GLSetup@1210000 : Record 98;
      NoSeriesManagement@1210001 : Codeunit 396;

    PROCEDURE Release@1210002();
    BEGIN
      Status := Status::Released;
      MODIFY;
    END;

    PROCEDURE Reopen@1210001();
    BEGIN
      Status := Status::Open;
      MODIFY;
    END;

    PROCEDURE TestStatus@1210000();
    BEGIN
      TESTFIELD(Status,Status::Open);
    END;

    PROCEDURE AssistEdit@1210003() : Boolean;
    BEGIN
      GLSetup.GET;
      GLSetup.TESTFIELD("Contractor Invent. Act Nos.");
      IF NoSeriesManagement.SelectSeries(GLSetup."Contractor Invent. Act Nos.",xRec."No. Series","No. Series") THEN BEGIN
        NoSeriesManagement.SetSeries("No.");
        EXIT(TRUE);
      END;
    END;

    BEGIN
    END.
  }
}

