OBJECT Table 50082 Entry Data Buffer
{
  OBJECT-PROPERTIES
  {
    Date=06.07.17;
    Time=13:29:33;
    Modified=Yes;
    Version List=NOS-26;
  }
  PROPERTIES
  {
    CaptionML=[ENU=Entry Data Buffer;
               RUS=Буфер Обработки Операций];
    LookupPageID=Page50191;
    DrillDownPageID=Page50191;
  }
  FIELDS
  {
    { 1   ;   ;Operation Type      ;Option        ;CaptionML=[ENU=Operation Type;
                                                              RUS=Тип Операции];
                                                   OptionCaptionML=[ENU=Financia,Deal;
                                                                    RUS=Финансовая,Сделка];
                                                   OptionString=Financia,Deal }
    { 2   ;   ;Type Deal           ;Code20        ;CaptionML=[ENU=Type Deal;
                                                              RUS=Тип Сделки] }
    { 3   ;   ;Operation Code      ;Code50        ;TableRelation="Entry Code";
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Operation Code;
                                                              RUS=Код Операции] }
    { 4   ;   ;Event Code          ;Code20        ;TableRelation="Event Code";
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Event Code;
                                                              RUS=Код События] }
    { 5   ;   ;External Operation Code;Code20     ;CaptionML=[ENU=External Operation Code;
                                                              RUS=Код Операции во Внешней Системе] }
    { 6   ;   ;External Operation ID;Integer      ;CaptionML=[ENU=External Operation ID;
                                                              RUS=ID Операции] }
    { 7   ;   ;Convers Operation ID;Code20        ;CaptionML=[ENU=Convers Operation ID;
                                                              RUS=ID Операции Конвертации] }
    { 10  ;   ;Description         ;Text50        ;CaptionML=[ENU=Description;
                                                              RUS=Описание] }
    { 11  ;   ;Description 2       ;Text50        ;CaptionML=[ENU=Description 2;
                                                              RUS=Описание 2] }
    { 20  ;   ;Operation Date      ;Date          ;TableRelation=Currency;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Operation Date;
                                                              RUS=Дата Операции] }
    { 21  ;   ;Quantity            ;Decimal       ;CaptionML=[ENU=Quantity;
                                                              RUS=Количество] }
    { 22  ;   ;Currency Code       ;Code10        ;TableRelation=Currency;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Currency Code;
                                                              RUS=Код Валюты] }
    { 23  ;   ;Amount              ;Decimal       ;CaptionML=[ENU=Amount;
                                                              RUS=Сумма] }
    { 24  ;   ;Principal Amount    ;Decimal       ;CaptionML=[ENU=Principal Amount;
                                                              RUS=Основная Сумма] }
    { 25  ;   ;Interest Amount     ;Decimal       ;CaptionML=[ENU=Interest Amount;
                                                              RUS=Процентный Доход] }
    { 26  ;   ;Amount (LCY)        ;Decimal       ;CaptionML=[ENU=Amount (LCY);
                                                              RUS=Сумма (РУБ)] }
    { 27  ;   ;Due Date            ;Date          ;CaptionML=[ENU=Due Date;
                                                              RUS=Дата Оплаты] }
    { 28  ;   ;Settlement Date     ;Date          ;CaptionML=RUS=Дата Перерегистрации }
    { 29  ;   ;Coupon Calc Date    ;Date          ;CaptionML=RUS=Дата Расчета Купона }
    { 30  ;   ;Cons. Source Code   ;Code20        ;TableRelation="Consolidation Source";
                                                   CaptionML=[ENU=Cons. Source Code;
                                                              RUS=Код Источника Консолидации];
                                                   Description=NC MTF01 PCH }
    { 31  ;   ;Entry No.           ;Integer       ;CaptionML=[ENU=Entry No.;
                                                              RUS=Операция Но.];
                                                   Description=NC MTF01 PCH }
    { 40  ;   ;Removed             ;Boolean       ;CaptionML=[ENU=Removed;
                                                              RUS=Удалено];
                                                   Description=NC MTF01 PCH }
    { 41  ;   ;Reposted            ;Boolean       ;CaptionML=[ENU=Reposted;
                                                              RUS=Изменено];
                                                   Description=NC MTF01 PCH }
    { 42  ;   ;Remove Oper. No     ;Integer       ;CaptionML=[ENU=Remove Oper. No;
                                                              RUS=Удаляющая Операция Но.];
                                                   Description=NC MTF01 PCH }
    { 43  ;   ;Source Operation No.;Integer       ;CaptionML=[ENU=Source Operation No.;
                                                              RUS=Связанная Операция Но.];
                                                   Description=NC MTF01 PCH }
    { 44  ;   ;Export Cons. Source Code;Code20    ;TableRelation="Consolidation Source";
                                                   CaptionML=[ENU=Export Cons. Source Code;
                                                              RUS=Код Источника Выгрузки];
                                                   Description=NC MTF01 PCH }
    { 45  ;   ;Export Consolidation Register;Integer;
                                                   CaptionML=[ENU=Export Consolidation Register;
                                                              RUS=Регистр Консолидации Выгрузки];
                                                   Description=NC MTF01 PCH }
    { 46  ;   ;Consolidation Register;Integer     ;CaptionML=[ENU=Consolidation Register;
                                                              RUS=Регистр Консолидации];
                                                   Description=NC MTF01 PCH }
    { 47  ;   ;Not Translate       ;Boolean       ;CaptionML=[ENU=Not Translate;
                                                              RUS=Не Транслировать];
                                                   Description=NC MTF01 PCH }
    { 48  ;   ;Error in Import     ;Boolean       ;CaptionML=[ENU=Error in Import;
                                                              RUS=Ошибка при Загрузке];
                                                   Description=NC MTF01 PCH }
    { 49  ;   ;Deleted from Gen. Journal;Boolean  ;CaptionML=[ENU=Deleted from Gen. Journal;
                                                              RUS=Удалено из Фин. Журнала];
                                                   Description=NC MTF01 PCH }
    { 50  ;   ;Deleting from Gen. Journal;Boolean ;CaptionML=[ENU=Deleting from Gen. Journal;
                                                              RUS=Удалющая из Фин. Журнала];
                                                   Description=NC MTF01 PCH }
    { 51  ;   ;Journal Template Name;Code10       ;TableRelation="Gen. Journal Template";
                                                   CaptionML=[ENU=Journal Template Name;
                                                              RUS=Код Шаблона Журнала];
                                                   Description=NC MTF01 PCH }
    { 52  ;   ;Journal Batch Name  ;Code10        ;TableRelation="Gen. Journal Batch".Name;
                                                   CaptionML=[ENU=Journal Batch Name;
                                                              RUS=Код Раздела Журнала];
                                                   Description=NC MTF01 PCH }
    { 53  ;   ;Processing Effect   ;Option        ;CaptionML=[ENU=Processing Effect;
                                                              RUS=Результат Обработки];
                                                   OptionCaptionML=[ENU=Gen. Journal,Document;
                                                                    RUS=Фин. Журнал,Документ];
                                                   OptionString=Gen. Journal,Document;
                                                   Description=NC MTF01 PCH }
    { 55  ;   ;Operation Mapping ID;RecordID      ;OnLookup=BEGIN
                                                              LookupMapping("Operation Mapping ID");
                                                            END;

                                                   CaptionML=[ENU=Operation Mapping ID;
                                                              RUS=Мэппиг Операций ID];
                                                   Description=NC MTF01 PCH }
    { 100 ;   ;Dimension 1 Code    ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 1 Code;
                                                              RUS=Код Измерения 1] }
    { 101 ;   ;Dimension 1 Value Code;Text20      ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 1 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 1 Value Code;
                                                              RUS=Код Значения Измерения 1] }
    { 102 ;   ;Dimension 2 Code    ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 2 Code;
                                                              RUS=Код Измерения 2] }
    { 103 ;   ;Dimension 2 Value Code;Text20      ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 2 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 2 Value Code;
                                                              RUS=Код Значения Измерения 2] }
    { 104 ;   ;Dimension 3 Code    ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 3 Code;
                                                              RUS=Код Измерения 3] }
    { 105 ;   ;Dimension 3 Value Code;Text20      ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 3 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 3 Value Code;
                                                              RUS=Код Значения Измерения 3] }
    { 106 ;   ;Dimension 4 Code    ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 4 Code;
                                                              RUS=Код Измерения 4] }
    { 107 ;   ;Dimension 4 Value Code;Text20      ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 4 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 4 Value Code;
                                                              RUS=Код Значения Измерения 4] }
    { 108 ;   ;Dimension 5 Code    ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 5 Code;
                                                              RUS=Код Измерения 5] }
    { 109 ;   ;Dimension 5 Value Code;Text20      ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 5 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 5 Value Code;
                                                              RUS=Код Значения Измерения 5] }
    { 110 ;   ;Dimension 6 Code    ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 6 Code;
                                                              RUS=Код Измерения 6] }
    { 111 ;   ;Dimension 6 Value Code;Text20      ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 6 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 6 Value Code;
                                                              RUS=Код Значения Измерения 6] }
    { 112 ;   ;Dimension 7 Code    ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 7 Code;
                                                              RUS=Код Измерения 7] }
    { 113 ;   ;Dimension 7 Value Code;Text20      ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 7 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 7 Value Code;
                                                              RUS=Код Значения Измерения 7] }
    { 114 ;   ;Dimension 8 Code    ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 8 Code;
                                                              RUS=Код Измерения 8] }
    { 115 ;   ;Dimension 8 Value Code;Text20      ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 8 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 8 Value Code;
                                                              RUS=Код Значения Измерения 8] }
    { 116 ;   ;Dimension 9 Code    ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 9 Code;
                                                              RUS=Код Измерения 9] }
    { 117 ;   ;Dimension 9 Value Code;Text20      ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 9 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 9 Value Code;
                                                              RUS=Код Значения Измерения 9] }
    { 118 ;   ;Dimension 10 Code   ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 10 Code;
                                                              RUS=Код Измерения 10] }
    { 119 ;   ;Dimension 10 Value Code;Text20     ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 10 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 10 Value Code;
                                                              RUS=Код Значения Измерения 10] }
    { 120 ;   ;Dimension 11 Code   ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 10 Code;
                                                              RUS=Код Измерения 11] }
    { 121 ;   ;Dimension 11 Value Code;Text20     ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 11 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 10 Value Code;
                                                              RUS=Код Значения Измерения 11] }
    { 122 ;   ;Dimension 12 Code   ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 10 Code;
                                                              RUS=Код Измерения 12] }
    { 123 ;   ;Dimension 12 Value Code;Text20     ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 12 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 1 Value Code;
                                                              RUS=Код Значения Измерения 12] }
    { 124 ;   ;Dimension 13 Code   ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 13 Code;
                                                              RUS=Код Измерения 13] }
    { 125 ;   ;Dimension 13 Value Code;Text20     ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 13 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 13 Value Code;
                                                              RUS=Код Значения Измерения 13] }
    { 126 ;   ;Dimension 14 Code   ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 14 Code;
                                                              RUS=Код Измерения 14] }
    { 127 ;   ;Dimension 14 Value Code;Text20     ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 14 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 14 Value Code;
                                                              RUS=Код Значения Измерения 14] }
    { 128 ;   ;Dimension 15 Code   ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 15 Code;
                                                              RUS=Код Измерения 15] }
    { 129 ;   ;Dimension 15 Value Code;Text20     ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 15 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 15 Value Code;
                                                              RUS=Код Значения Измерения 15] }
    { 130 ;   ;Dimension 16 Code   ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 16 Code;
                                                              RUS=Код Измерения 16] }
    { 131 ;   ;Dimension 16 Value Code;Text20     ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 16 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 16 Value Code;
                                                              RUS=Код Значения Измерения 16] }
    { 132 ;   ;Dimension 17 Code   ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 17 Code;
                                                              RUS=Код Измерения 17] }
    { 133 ;   ;Dimension 17 Value Code;Text20     ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 17 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 17 Value Code;
                                                              RUS=Код Значения Измерения 17] }
    { 134 ;   ;Dimension 18 Code   ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 18 Code;
                                                              RUS=Код Измерения 18] }
    { 135 ;   ;Dimension 18 Value Code;Text20     ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 18 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 18 Value Code;
                                                              RUS=Код Значения Измерения 18];
                                                   CaptionClass='1,7,18,Дебет ,' }
    { 136 ;   ;Dimension 19 Code   ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 19 Code;
                                                              RUS=Код Измерения 19] }
    { 137 ;   ;Dimension 19 Value Code;Text20     ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 19 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 19 Value Code;
                                                              RUS=Код Значения Измерения 19];
                                                   CaptionClass='1,7,19,Дебет ,' }
    { 138 ;   ;Dimension 20 Code   ;Text20        ;TableRelation=Dimension;
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 20 Code;
                                                              RUS=Код Измерения 20] }
    { 139 ;   ;Dimension 20 Value Code;Text20     ;TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Dimension 20 Code));
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Dimension 20 Value Code;
                                                              RUS=Код Значения Измерения 20];
                                                   CaptionClass='1,7,20,Дебет ,' }
    { 55001;  ;PreBuffer Entry No. ;Integer       ;CaptionML=[ENU=PreBuffer Entry No.;
                                                              RUS=Предбуфер Операция Но.] }
    { 55005;  ;Id External System  ;Text2         ;TableRelation="External System";
                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Id External System;
                                                              RUS=Id Внешней Системы] }
    { 55020;  ;Type                ;Option        ;CaptionML=[ENU=Type;
                                                              RUS=Тип];
                                                   OptionCaptionML=[ENU=New,Modify,Delete;
                                                                    RUS=Новый,Изменение,Удаление];
                                                   OptionString=New,Modify,Delete }
    { 55022;  ;Document ID         ;Text50        ;CaptionML=[ENU=Document ID;
                                                              RUS=Документ ID] }
  }
  KEYS
  {
    {    ;Cons. Source Code,Entry No.             ;Clustered=Yes }
    {    ;Export Cons. Source Code,Export Consolidation Register }
    {    ;Document ID,Removed,Remove Oper. No      }
    {    ;Export Cons. Source Code,Export Consolidation Register,Type }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      Text001@1210000 : TextConst 'RUS=Операция по ОС %1 уже выгружена';

    PROCEDURE LookupMapping@1000000016(RecID@1000000003 : RecordID);
    VAR
      RecRef@1000000000 : RecordRef;
      Customer@1000000004 : Record 18;
      FixedAsset@1000000005 : Record 5600;
      OperationPreBuffer@1000000001 : Record 50081;
      OperationBuffer@1000000002 : Record 50082;
      Dimension@1000000006 : Record 348;
      DimValue@1000000007 : Record 349;
      GLAcc@1000000008 : Record 15;
      TransFactOperHeader@1000000009 : Record 50112;
    BEGIN
      IF RecID.TABLENO = 0 THEN
        EXIT;
      RecRef := RecID.GETRECORD;
      CASE RecRef.NUMBER OF
        DATABASE::"Transform. Fact Oper. Header" :
          BEGIN
            //TransFactOperHeader.CHANGECOMPANY("Object Company Name");
            RecRef.SETTABLE(TransFactOperHeader);
            TransFactOperHeader.SETRANGE("Mapping Code",TransFactOperHeader."Mapping Code");
            TransFactOperHeader.SETRANGE("Line No.",TransFactOperHeader."Line No.");
            PAGE.RUNMODAL(0,TransFactOperHeader);
          END;
      END;
    END;

    BEGIN
    {
      NC MTF01 AKU Создан буфер обработки фактов операций по торговым операциям с фин. инструментами из внешних систем (Пифагор)
      NC MTF01 AKU Добавлены поля Settlement Date, Coupon Calc Date
    }
    END.
  }
}

