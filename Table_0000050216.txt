OBJECT Table 50216 FI Ledger Entry 2
{
  OBJECT-PROPERTIES
  {
    Date=23.05.17;
    Time=18:38:49;
    Modified=Yes;
    Version List=;
  }
  PROPERTIES
  {
    CaptionML=[ENU=FI Ledger Entry;
               RUS=ФИ Книга Операций];
    LookupPageID=Page50291;
  }
  FIELDS
  {
    { 1   ;   ;Entry No.           ;Integer       ;CaptionML=[ENU=Entry No.;
                                                              RUS=Операция Но.] }
    { 3   ;   ;FI No.              ;Code20        ;TableRelation="Financial Instrument".No.;
                                                   CaptionML=[ENU=FI No.;
                                                              RUS=ФИ Но.] }
    { 4   ;   ;Posting Date        ;Date          ;CaptionML=[ENU=Posting Date;
                                                              RUS=Дата Учета] }
    { 5   ;   ;Deal Time           ;Time          ;CaptionML=[ENU=Deal Time;
                                                              RUS=Время Сделки] }
    { 6   ;   ;FI Entry Type       ;Option        ;CaptionML=[ENU=FI EntryType;
                                                              RUS=ФИ Тип Операции];
                                                   OptionCaptionML=[ENU=" ,Purchase,Sale,Positive Adjmt.,Negative Adjmt.,Charging%,Repayment%";
                                                                    RUS=" ,Покупка,Продажа,Приход,Расход,Начисление%,Погашение%"];
                                                   OptionString=[ ,Purchase,Sale,Positive Adjmt.,Negative Adjmt.,Charging%,Payment%] }
    { 7   ;   ;Quantity            ;Decimal       ;CaptionML=[ENU=Quantity;
                                                              RUS=Кол-во];
                                                   DecimalPlaces=0:5 }
    { 8   ;   ;Description         ;Text50        ;CaptionML=[ENU=Description;
                                                              RUS=Описание] }
    { 9   ;   ;Currency Code       ;Code10        ;TableRelation=Currency;
                                                   CaptionML=[ENU=FI Currency Code;
                                                              RUS=Код Валюты ФИ] }
    { 10  ;   ;FI Posting Book     ;Code10        ;TableRelation="FI Posting Book";
                                                   CaptionML=[ENU=FI Posting Book;
                                                              RUS=ФИ Книга Учета Код] }
    { 11  ;   ;FI Portfolio        ;Code10        ;TableRelation="FI Portfolio";
                                                   CaptionML=[ENU=FI Portfolio;
                                                              RUS=ФИ Портфель Код] }
    { 17  ;   ;Global Dimension 1 Code;Code20     ;TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(1));
                                                   CaptionML=[ENU=Global Dimension 1 Code;
                                                              RUS=Глобал. Измерение 1 Код];
                                                   CaptionClass='1,1,1' }
    { 18  ;   ;Global Dimension 2 Code;Code20     ;TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(2));
                                                   CaptionML=[ENU=Global Dimension 2 Code;
                                                              RUS=Глобал. Измерение 2 Код];
                                                   CaptionClass='1,1,2' }
    { 20  ;   ;User ID             ;Code20        ;TableRelation=Table2000000002;
                                                   OnLookup=VAR
                                                              LoginMgt@1000 : Codeunit 418;
                                                            BEGIN
                                                              LoginMgt.LookupUserID("User ID");
                                                            END;

                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=User ID;
                                                              RUS=Код Пользователя] }
    { 21  ;   ;Document No.        ;Code20        ;CaptionML=[ENU=Document No.;
                                                              RUS=Документ Но.] }
    { 27  ;   ;Sales Amount        ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Detailed FI Ledger Entry"."Sales Amount" WHERE (FI Entry No.=FIELD(Entry No.),
                                                                                                                    Posting Date=FIELD(Date Filter),
                                                                                                                    Entry Type=FIELD(Entry Type Filter)));
                                                   CaptionML=[ENU=Sales Amount;
                                                              RUS=Сумма Продаж];
                                                   AutoFormatType=1 }
    { 28  ;   ;Sales Amount (LCY)  ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Detailed FI Ledger Entry"."Sales Amount (LCY)" WHERE (FI Entry No.=FIELD(Entry No.),
                                                                                                                          Posting Date=FIELD(Date Filter),
                                                                                                                          Entry Type=FIELD(Entry Type Filter)));
                                                   CaptionML=[ENU=Sales Amount (LCY);
                                                              RUS=Сумма Продаж (РУБ)];
                                                   AutoFormatType=1 }
    { 29  ;   ;Sales Amount (ACY)  ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Detailed FI Ledger Entry"."Sales Amount (ACY)" WHERE (FI Entry No.=FIELD(Entry No.),
                                                                                                                          Posting Date=FIELD(Date Filter),
                                                                                                                          Entry Type=FIELD(Entry Type Filter)));
                                                   CaptionML=[ENU=Sales Amount (ACY);
                                                              RUS=Сумма Продаж (ДОВ)];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr=GetAddCurrencyCode }
    { 30  ;   ;Cost Amount         ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Detailed FI Ledger Entry"."Cost Amount" WHERE (FI Entry No.=FIELD(Entry No.),
                                                                                                                   Posting Date=FIELD(Date Filter),
                                                                                                                   Entry Type=FIELD(Entry Type Filter)));
                                                   CaptionML=[ENU=Cost Amount;
                                                              RUS=Сумма Себест.];
                                                   AutoFormatType=1 }
    { 31  ;   ;Cost Amount (LCY)   ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Detailed FI Ledger Entry"."Cost Amount (LCY)" WHERE (FI Entry No.=FIELD(Entry No.),
                                                                                                                         Posting Date=FIELD(Date Filter),
                                                                                                                         Entry Type=FIELD(Entry Type Filter)));
                                                   CaptionML=[ENU=Cost Amount (LCY);
                                                              RUS=Сумма Себест.(РУБ)];
                                                   AutoFormatType=1 }
    { 32  ;   ;Cost Amount (ACY)   ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Detailed FI Ledger Entry"."Cost Amount (ACY)" WHERE (FI Entry No.=FIELD(Entry No.),
                                                                                                                         Posting Date=FIELD(Date Filter),
                                                                                                                         Entry Type=FIELD(Entry Type Filter)));
                                                   CaptionML=[ENU=Cost Amount (ACY);
                                                              RUS=Сумма Себест. (ДОВ)];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr=GetAddCurrencyCode }
    { 33  ;   ;Positive            ;Boolean       ;CaptionML=[ENU=Positive;
                                                              RUS=Положительна] }
    { 35  ;   ;Open                ;Boolean       ;CaptionML=[ENU=Open;
                                                              RUS=Открыта] }
    { 40  ;   ;Deal ID             ;Code20        ;CaptionML=[ENU=Deal ID;
                                                              RUS=ID Сделки] }
    { 50  ;   ;Remaining Quantity  ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Detailed FI Ledger Entry".Quantity WHERE (FI Entry No.=FIELD(Entry No.),
                                                                                                              Posting Date=FIELD(Date Filter)));
                                                   CaptionML=[ENU=Remaining Quantity;
                                                              RUS=Оставшееся Количество] }
    { 52  ;   ;External System ID  ;Code2         ;TableRelation="External System";
                                                   CaptionML=[ENU=External System ID;
                                                              RUS=Внешняя Система ID] }
    { 53  ;   ;External Document ID;Code50        ;CaptionML=[ENU=External Document ID;
                                                              RUS=Внешний Документ ID] }
    { 60  ;   ;Export Cons. Source Code;Code20    ;TableRelation="Consolidation Source";
                                                   CaptionML=[ENU=Consolidation Source Code;
                                                              RUS=Код Выгрузки];
                                                   Description=AAP }
    { 61  ;   ;Export Register No. ;Integer       ;TableRelation="Consolidation Register".No.;
                                                   CaptionML=[ENU=Export Register No.;
                                                              RUS=Регистр Выгрузки Но.];
                                                   Description=AAP }
    { 62  ;   ;FI Journal Batch Name;Code10       ;CaptionML=ENU=FI Journal Batch Name;
                                                   Description=AAP }
    { 65  ;   ;Created Date        ;Date          ;CaptionML=[ENU=Created Date;
                                                              RUS=Дата Создания] }
    { 70  ;   ;Buffer Entry No.    ;Integer       ;CaptionML=[ENU=Buffer Entry No.;
                                                              RUS=Буфер Операция Но.] }
    { 80  ;   ;Reversed            ;Boolean       ;CaptionML=[ENU=Reversed;
                                                              RUS=Сторнированно] }
    { 85  ;   ;Reversed By Entry No.;Integer      ;TableRelation="FI Ledger Entry 2";
                                                   CaptionML=[ENU=Reversed By Entry No.;
                                                              RUS=Номер Сторнирующей Операции] }
    { 90  ;   ;Reversed Entry No.  ;Integer       ;TableRelation="FI Ledger Entry 2";
                                                   CaptionML=[ENU=Reversed Entry No.;
                                                              RUS=Номер Сторнированной Операции] }
    { 95  ;   ;Recalculate Application;Boolean    ;CaptionML=[ENU=Recalculate Application;
                                                              RUS=Пересчитать Применение] }
    { 100 ;   ;Last Revaluation Date;Date         ;CaptionML=[ENU=Last Revaluation Date;
                                                              RUS=Дата Последней Переоценки] }
    { 103 ;   ;Max Revaluation Date;Date          ;CaptionML=[ENU=Max Revaluation Date;
                                                              RUS=Максимальная Дата Переоценки] }
    { 110 ;   ;Date Filter         ;Date          ;FieldClass=FlowFilter;
                                                   CaptionML=[ENU=Date Filter;
                                                              RUS=Фильтр по Дате] }
    { 115 ;   ;Entry Type Filter   ;Option        ;FieldClass=FlowFilter;
                                                   CaptionML=[ENU=Entry Type Filter;
                                                              RUS=Фильтр по Типу Операции];
                                                   OptionString=Initial Entry,Application,Reval. MTM,Reval. MTM-R }
  }
  KEYS
  {
    {    ;Entry No.                               ;Clustered=Yes }
    {    ;FI No.,Posting Date                      }
    {    ;Last Revaluation Date                    }
    {    ;Export Cons. Source Code,Export Register No. }
    {    ;FI No.,Open,Reversed,Positive,FI Entry Type,Posting Date }
    {    ;FI No.,Open,Reversed,Positive,Posting Date }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      GLSetup@1170000003 : Record 98;
      AddCurrencyCode@1170000001 : Code[10];
      GLSetupRead@1170000000 : Boolean;

    PROCEDURE GetAddCurrencyCode@1170000000() : Code[10];
    BEGIN
      GetGLSetup;
      EXIT(AddCurrencyCode);
    END;

    LOCAL PROCEDURE GetGLSetup@19();
    BEGIN
      IF GLSetupRead THEN
        EXIT;

      GLSetup.GET;
      GLSetupRead := TRUE;

      AddCurrencyCode := GLSetup."Additional Reporting Currency";
    END;

    BEGIN
    {
      NC NCS-2360 ORM Created
      NC NCS-2388 AA 10.01.17 - Created new key [FI No.,Open,Reversed,Positive,FI Entry Type,Posting Date]
      NC NCS-2394 AA 13.01.17 - Created new key [FI No.,Open,Reversed,Positive,Posting Date]
    }
    END.
  }
}

