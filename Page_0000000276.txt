OBJECT Page 276 Job Journal Batches
{
  OBJECT-PROPERTIES
  {
    Date=25.10.16;
    Time=12:00:00;
    Version List=NAVW110.00;
  }
  PROPERTIES
  {
    Editable=Yes;
    CaptionML=[ENU=Job Journal Batches;
               RUS=Разделы журнала работ];
    SourceTable=Table237;
    DataCaptionExpr=DataCaption;
    PageType=List;
    RefreshOnActivate=Yes;
    OnInit=BEGIN
             SETRANGE("Journal Template Name");
           END;

    OnOpenPage=BEGIN
                 JobJnlMgt.OpenJnlBatch(Rec);
               END;

    OnNewRecord=BEGIN
                  SetupNewBatch;
                END;

    ActionList=ACTIONS
    {
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 19      ;1   ;Action    ;
                      ShortCutKey=Return;
                      CaptionML=[ENU=Edit Journal;
                                 RUS=Изменение журнала];
                      ToolTipML=[ENU=Open a journal based on the journal batch that you selected.;
                                 RUS=Открытие журнала на основе выбранного раздела журнала.];
                      ApplicationArea=#Jobs;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=OpenJournal;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 JobJnlMgt.TemplateSelectionFromBatch(Rec);
                               END;
                                }
      { 11      ;1   ;ActionGroup;
                      CaptionML=[ENU=P&osting;
                                 RUS=У&чет];
                      Image=Post }
      { 12      ;2   ;Action    ;
                      CaptionML=[ENU=Test Report;
                                 RUS=Тестовый отчет];
                      ToolTipML=[ENU=View a test report so that you can find and correct any errors before you perform the actual posting of the journal or document.;
                                 RUS=Просмотр тестового отчета, чтобы можно было найти и исправить все ошибки перед учетом журнала или документа.];
                      ApplicationArea=#Jobs;
                      Image=TestReport;
                      OnAction=BEGIN
                                 ReportPrint.PrintJobJnlBatch(Rec);
                               END;
                                }
      { 13      ;2   ;Action    ;
                      ShortCutKey=F9;
                      CaptionML=[ENU=P&ost;
                                 RUS=У&чет];
                      ToolTipML=[ENU=Finalize the document or journal by posting the amounts and quantities to the related accounts in your company books.;
                                 RUS=Завершение подготовки документа или журнала путем учета сумм и количеств на соответствующих счетах в книгах организации.];
                      ApplicationArea=#Jobs;
                      RunObject=Codeunit 1023;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=PostOrder;
                      PromotedCategory=Process }
      { 14      ;2   ;Action    ;
                      ShortCutKey=Shift+F9;
                      CaptionML=[ENU=Post and &Print;
                                 RUS=Учет и &печать];
                      ToolTipML=[ENU=Finalize and prepare to print the document or journal. The values and quantities are posted to the related accounts. A report request window where you can specify what to include on the print-out.;
                                 RUS=Завершение подготовки документа или журнала и его подготовка к печати. Значения и количества учитываются на соответствующих счетах. В окне запроса отчета можно указать, какая информация должна выводиться на печать.];
                      ApplicationArea=#Jobs;
                      RunObject=Codeunit 1024;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=PostPrint;
                      PromotedCategory=Process }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1   ;1   ;Group     ;
                GroupType=Repeater }

    { 2   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the name of this job journal. You can enter a maximum of 10 characters, both numbers and letters.;
                           RUS=Определяет имя этого журнала работ. Длина имени не может превышать 10 знаков (букв или цифр).];
                ApplicationArea=#Jobs;
                SourceExpr=Name }

    { 4   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a description of this journal. You can enter a maximum of 50 characters, both numbers and letters.;
                           RUS=Определяет описание этого журнала. Длина описания не может превышать 50 знаков (букв и цифр).];
                ApplicationArea=#Jobs;
                SourceExpr=Description }

    { 15  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that will be used to assign document numbers to journal lines in this journal batch. To see the number series that have been set up in the No. Series table, choose the field.;
                           RUS=Определяет код серии номеров, который будет использоваться для присвоения номеров документов строкам журнала в этом разделе журнала. Для отображения серии номеров, настроенной в таблице "Серия номеров", выберите поле.];
                ApplicationArea=#Jobs;
                SourceExpr="No. Series" }

    { 17  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the number series that will be used to assign document numbers to ledger entries that are posted from this journal batch. To see the number series that have been set up in the No. Series table, choose the field.;
                           RUS=Определяет код серии номеров, который будет использоваться для присвоения номеров документов финансовым операциям, учитываемым из этого раздела журнала. Для отображения серии номеров, настроенной в таблице "Серия номеров", выберите поле.];
                ApplicationArea=#Jobs;
                SourceExpr="Posting No. Series" }

    { 6   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the reason code.;
                           RUS=Определяет код причины.];
                ApplicationArea=#Jobs;
                SourceExpr="Reason Code";
                Visible=TRUE }

    { 1900000007;0;Container;
                ContainerType=FactBoxArea }

    { 1900383207;1;Part   ;
                Visible=FALSE;
                PartType=System;
                SystemPartID=RecordLinks }

    { 1905767507;1;Part   ;
                Visible=FALSE;
                PartType=System;
                SystemPartID=Notes }

  }
  CODE
  {
    VAR
      ReportPrint@1000 : Codeunit 228;
      JobJnlMgt@1001 : Codeunit 1020;

    LOCAL PROCEDURE DataCaption@1() : Text[250];
    VAR
      JobJnlTemplate@1000 : Record 209;
    BEGIN
      IF NOT CurrPage.LOOKUPMODE THEN
        IF GETFILTER("Journal Template Name") <> '' THEN
          IF GETRANGEMIN("Journal Template Name") = GETRANGEMAX("Journal Template Name") THEN
            IF JobJnlTemplate.GET(GETRANGEMIN("Journal Template Name")) THEN
              EXIT(JobJnlTemplate.Name + ' ' + JobJnlTemplate.Description);
    END;

    BEGIN
    END.
  }
}

