OBJECT Page 1260 Bank Data Conv. Service Setup
{
  OBJECT-PROPERTIES
  {
    Date=25.10.16;
    Time=12:00:00;
    Version List=NAVW110.00;
  }
  PROPERTIES
  {
    CaptionML=[ENU=Bank Data Conv. Service Setup;
               RUS=Настройка службы преобр. банковских данных];
    InsertAllowed=No;
    SourceTable=Table1260;
    PageType=Card;
    PromotedActionCategoriesML=[ENU=New,Process,Page,Bank Name,Encryption;
                                RUS=Создать,Обработать,Страница,Название банка,Шифрование];
    OnOpenPage=VAR
                 BankDataConvServiceSetup@1000 : Record 1260;
               BEGIN
                 CheckedEncryption := FALSE;
                 IF NOT BankDataConvServiceSetup.GET THEN BEGIN
                   BankDataConvServiceSetup.INIT;
                   BankDataConvServiceSetup.INSERT(TRUE);
                 END;
               END;

    OnAfterGetRecord=BEGIN
                       CurrPageEditable := CurrPage.EDITABLE;

                       IF HasPassword THEN
                         Password := 'Password Dots';
                     END;

    ActionList=ACTIONS
    {
      { 8       ;    ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 9       ;1   ;Action    ;
                      Name=SetURLsToDefault;
                      CaptionML=[ENU=Set URLs to Default;
                                 RUS=Восстановить значения URL-адресов по умолчанию];
                      ToolTipML=[ENU=Change the Service, Support and Sign-up URLs to their default values. You cannot cancel this action to revert back to the current values.;
                                 RUS=Изменение URL-адресов обслуживания, поддержки и входа до значений по умолчанию. Отменить это действие и вернуться к текущим значениям будет невозможно.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Image=Restore;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 SetURLsToDefault;
                               END;
                                }
      { 11      ;0   ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 10      ;1   ;Action    ;
                      Name=BankList;
                      CaptionML=[ENU=Bank Name - Data Conversion List;
                                 RUS=Название банка - Список преобр. данных];
                      ToolTipML=[ENU=View or update the list of banks in your country/region that you can use to import or export bank account data using the Bank Data Conversion Service.;
                                 RUS=Просмотр или обновление списка банков в вашей стране или регионе, чтобы вы могли импортировать и экспортировать данные банковских счетов с помощью службы конвертации банковских данных.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 1259;
                      Promoted=Yes;
                      Image=ListPage;
                      PromotedCategory=Category4;
                      RunPageMode=View }
      { 12      ;1   ;Action    ;
                      Name=EncryptionManagement;
                      CaptionML=[ENU=Encryption Management;
                                 RUS=Управление шифрованием];
                      ToolTipML=[ENU=Enable or disable data encryption. Data encryption helps make sure that unauthorized users cannot read business data.;
                                 RUS=Включение или отключение шифрования данных. Шифрование данных защищает вас от несанкционированного чтения бизнес-данных другими пользователями.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 9905;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=EncryptionKeys;
                      PromotedCategory=Category5;
                      RunPageMode=View }
    }
  }
  CONTROLS
  {
    { 1   ;0   ;Container ;
                ContainerType=ContentArea }

    { 2   ;1   ;Group     ;
                Name=General;
                CaptionML=[ENU=General;
                           RUS=Общее];
                GroupType=Group }

    { 5   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the user name that represents your company's sign-up for the service that converts bank data to the format required by your bank when you export payment bank files and import bank statement files.;
                           RUS=Определяет имя пользователя, с использованием которого ваша организация регистрируется в службе, преобразующей банковские данные в формат, требуемый вашим банком, при экспорте банковских файлов платежей и при импорте файлов банковских выписок.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="User Name";
                ShowMandatory=True }

    { 6   ;2   ;Field     ;
                Name=Password;
                ExtendedDatatype=Masked;
                CaptionML=[ENU=Password;
                           RUS=Пароль];
                ToolTipML=[ENU=Specifies your company's password to the service that converts bank data to the format required by your bank. The password that you enter in the Password field must be the same as on the service provider's sign-on page.;
                           RUS=Определяет пароль, с использованием которого ваша организация регистрируется в службе, преобразующей банковские данные в формат, требуемый вашим банком. Пароль, введенные в поле "Пароль", должен совпадать с паролем на странице входа поставщика службы.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Password;
                Editable=CurrPageEditable;
                OnValidate=BEGIN
                             SavePassword(Password);
                             COMMIT;
                             IF Password <> '' THEN
                               CheckEncryption;
                           END;

                ShowMandatory=True }

    { 13  ;1   ;Group     ;
                Name=Servcie;
                CaptionML=[ENU=Service;
                           RUS=Сервис];
                GroupType=Group }

    { 3   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the sign-up page for the service that converts bank data to the format required by your bank when you export payment bank files and import bank statement files. This is the web page where you enter your company's user name and password to sign up for the service.;
                           RUS=Определяет страницу входа службы, преобразующей банковские данные в формат, требуемый вашим банком, при экспорте банковских файлов платежей и при импорте файлов банковских выписок. Это веб-страница, на которой вы вводите имя пользователя и пароль вашей организации для входа в службу.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Sign-up URL" }

    { 4   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the address of the service that converts bank data to the format required by your bank when you export payment bank files and import bank statement files. The service specified in the Service URL field is called when users export or import bank files.;
                           RUS=Определяет адрес службы, преобразующей банковские данные в формат, требуемый вашим банком, при экспорте банковских файлов платежей и при импорте файлов банковских выписок. Указанная в поле "URL-адрес службы" служба вызывается, когда пользователи экспортируют или импортируют банковские файлы.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Service URL" }

    { 7   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the web site where the provider of the bank data conversion service publishes status and support information about the service.;
                           RUS=Определяет веб-сайт, на котором поставщик службы конвертации банковских данных публикует сведения о состоянии службы и информацию о поддержке службы.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Support URL" }

  }
  CODE
  {
    VAR
      Password@1000 : Text[50];
      CheckedEncryption@1002 : Boolean;
      EncryptionIsNotActivatedQst@1003 : TextConst 'ENU=Data encryption is not activated. It is recommended that you encrypt data. \Do you want to open the Data Encryption Management window?;RUS=Шифрование данных не включено. Рекомендуется шифровать данные. \Открыть окно "Управление шифрованием данных"?';
      CurrPageEditable@1001 : Boolean;

    LOCAL PROCEDURE CheckEncryption@4();
    BEGIN
      IF NOT CheckedEncryption AND NOT ENCRYPTIONENABLED THEN BEGIN
        CheckedEncryption := TRUE;
        IF CONFIRM(EncryptionIsNotActivatedQst) THEN BEGIN
          PAGE.RUN(PAGE::"Data Encryption Management");
          CheckedEncryption := FALSE;
        END;
      END;
    END;

    BEGIN
    END.
  }
}

