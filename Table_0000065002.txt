OBJECT Table 65002 Conv. of Chart of Accounts2
{
  OBJECT-PROPERTIES
  {
    Date=10.09.10;
    Time=20:22:12;
    Modified=Yes;
    Version List=;
  }
  PROPERTIES
  {
    DataCaptionFields=Cons. Source Code;
    CaptionML=[ENU=Conv. of Chart of Accounts;
               RUS=Преобразование Плана Счетов];
  }
  FIELDS
  {
    { 1   ;   ;Cons. Source Code   ;Code20        ;TableRelation="Consolidation Source";
                                                   CaptionML=[ENU=Cons. Source Code;
                                                              RUS=Источник консолидации] }
    { 2   ;   ;Source Account Code ;Code20        ;OnLookup=BEGIN
                                                              ConsolidationSource.GET("Cons. Source Code");
                                                              IF ConsolidationSource."Import Format"  = ConsolidationSource."Import Format"::FromNavision THEN BEGIN
                                                                GLAccountList.SetIntercompanyName(ConsolidationSource."Company Name");

                                                                GLAccountList.LOOKUPMODE := TRUE;
                                                                IF GLAccountList.RUNMODAL = ACTION::LookupOK THEN BEGIN
                                                                  GLAccountList.GETRECORD(GLAccount);
                                                                  "Source Account Code" := GLAccount."No.";
                                                                  "Source Account Name" := GLAccount.Name;
                                                                END;
                                                                CLEAR(GLAccountList);
                                                              END;
                                                            END;

                                                   CaptionML=[ENU=Source Account Code;
                                                              RUS=Код Счета Источника];
                                                   NotBlank=Yes }
    { 3   ;   ;Source Account Name ;Text150       ;CaptionML=[ENU=Source Account Name;
                                                              RUS=Источник Счет Описание];
                                                   Editable=No }
    { 4   ;   ;Receiver Account Code;Code20       ;TableRelation="G/L Account";
                                                   OnValidate=VAR
                                                                GLAccount@1000000000 : Record 15;
                                                              BEGIN
                                                                //NC PIF001 > DP
                                                                IF (("Receiver Account Code" <> xRec."Receiver Account Code") AND ("Receiver Account Code" <> '')) THEN
                                                                BEGIN
                                                                  GLAccount.GET("Receiver Account Code");
                                                                  "Receiver Account Name" := GLAccount.Name;
                                                                END;
                                                                //NC PIF001 < DP
                                                              END;

                                                   CaptionML=[ENU=Target Account Code;
                                                              RUS=Код Счета Приемника];
                                                   NotBlank=Yes }
    { 5   ;   ;Receiver Account Name;Text150      ;CaptionML=[ENU=Target Account Name;
                                                              RUS=Получатель Счет Описание];
                                                   Editable=No }
    { 40  ;   ;Active              ;Boolean       ;InitValue=Yes;
                                                   CaptionML=[ENU=Active;
                                                              RUS=Активен];
                                                   Editable=No }
    { 50001;  ;Company Code        ;Text30        ;TableRelation=Company;
                                                   CaptionML=[ENU=Company Code;
                                                              RUS=Код Фирмы] }
    { 55000;  ;Operation Type      ;Option        ;CaptionML=[ENU=Operation Type;
                                                              RUS=Тип Операции];
                                                   OptionCaptionML=[ENU=" ,Debit,Credit";
                                                                    RUS=" ,Дебет,Кредит"];
                                                   OptionString=[ ,Debit,Credit] }
    { 55001;  ;Source Dimension Value Code 1;Code20;
                                                   CaptionML=[ENU=Source Dimension 1 Value Code;
                                                              RUS=Источник Изм. Зн. Код 1] }
    { 55002;  ;Source Dimension Value Code 2;Code20;
                                                   CaptionML=[ENU=Source Dimension 2 Value Code;
                                                              RUS=Источник Изм. Зн. Код 2] }
    { 55003;  ;Source Dimension Code 1;Code20     ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Source Dimension 1 Code;
                                                              RUS=Источник Измерение Код 1];
                                                   Description=NC PIF001 }
    { 55004;  ;Source Dimension Code 2;Code20     ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Source Dimension 2 Code;
                                                              RUS=Источник Измерение Код 2];
                                                   Description=NC PIF001 }
    { 55005;  ;Source Dimension Code 3;Code20     ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Source Dimension 3 Code;
                                                              RUS=Источник Измерение Код 3];
                                                   Description=NC PIF001 }
    { 55006;  ;Source Dimension Value Code 3;Code20;
                                                   CaptionML=[ENU=Source Dimension 3 Value Code;
                                                              RUS=Источник Изм. Зн. Код 3];
                                                   Description=NC PIF001 }
    { 55020;  ;Receiver Dimension Code 1;Code20   ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Receiver Dimension 1 Code;
                                                              RUS=Приемник Измерение Код 1];
                                                   Description=NC PIF010 }
    { 55025;  ;Receiver Dim. Value Code 1;Code20  ;CaptionML=[ENU=Receiver Dimension 1 Value Code;
                                                              RUS=Приемник Изм. Зн. Код 1];
                                                   Description=NC PIF010 }
    { 55030;  ;Receiver Dimension Code 2;Code20   ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Receiver Dimension 2 Code;
                                                              RUS=Приемник Измерение Код 2];
                                                   Description=NC PIF010 }
    { 55035;  ;Receiver Dim. Value Code 2;Code20  ;CaptionML=[ENU=Receiver Dimension 2 Value Code;
                                                              RUS=Приемник Изм. Зн. Код 2];
                                                   Description=NC PIF010 }
    { 55040;  ;Receiver Dimension Code 3;Code20   ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Receiver Dimension 3 Code;
                                                              RUS=Приемник Измерение Код 3];
                                                   Description=NC PIF010 }
    { 55045;  ;Receiver Dim. Value Code 3;Code20  ;CaptionML=[ENU=Receiver Dimension 3 Value Code;
                                                              RUS=Приемник Изм. Зн. Код 3];
                                                   Description=NC PIF010 }
    { 55060;  ;Description         ;Text250       ;CaptionML=[ENU=Description;
                                                              RUS=Описание];
                                                   Description=NC PIF010 }
    { 55100;  ;Rating Transformation;Integer      ;CaptionML=[ENU=Rating Transformation;
                                                              RUS=Рейтинг Преобразования];
                                                   Description=NC OPT PCH;
                                                   Editable=No }
  }
  KEYS
  {
    {    ;Cons. Source Code,Source Account Code,Operation Type,Source Dimension Code 1,Source Dimension Value Code 1,Source Dimension Code 2,Source Dimension Value Code 2,Source Dimension Code 3,Source Dimension Value Code 3;
                                                   Clustered=Yes }
    {    ;Receiver Account Code,Source Dimension Code 1,Source Dimension Value Code 1,Source Dimension Code 2,Source Dimension Value Code 2,Source Dimension Code 3,Source Dimension Value Code 3 }
    {    ;Cons. Source Code,Source Account Code,Operation Type,Rating Transformation }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      ConsolidationSource@1000000000 : Record 50001;
      Text00001@1000000001 : TextConst 'ENU=G\L Account %1 does not exist in Source Company %2;RUS=Фин. Счет Но. %1 не существует в компании источнике %2';
      GLAccount@1210000 : Record 15;
      ConsolidationSetup@1210002 : Record 50000;
      DimensionValue@1210003 : Record 349;
      DimValueCode@1101495000 : Code[20];
      Text00002@1101495001 : TextConst 'ENU=Value %1 of Dimension %2 does not exist in Source Company %3;RUS=Значения %1 Измерения %2 нет в компании-источнике %3';

    BEGIN
    {
      NC PIF001 AK Таблица перенесена с другого проекта и кастомизирована
      NC PIF010 MP
      NC OPT PCH Добавлено поле "Rating Transformation" и его автозаполнение
    }
    END.
  }
}

