OBJECT Table 17214 Tax Register PR Entry
{
  OBJECT-PROPERTIES
  {
    Date=09.09.14;
    Time=12:00:00;
    Version List=NAVRU8.00;
  }
  PROPERTIES
  {
    CaptionML=[ENU=Tax Register PR Entry;
               RUS=Операция по зарплате налогового регистра];
  }
  FIELDS
  {
    { 1   ;   ;Entry No.           ;Integer       ;CaptionML=[ENU=Entry No.;
                                                              RUS=Номер операции] }
    { 2   ;   ;Section Code        ;Code10        ;TableRelation="Tax Register Section";
                                                   CaptionML=[ENU=Section Code;
                                                              RUS=Код секции] }
    { 3   ;   ;Employee No.        ;Code20        ;TableRelation=Employee;
                                                   CaptionML=[ENU=Employee No.;
                                                              RUS=Код сотрудника] }
    { 4   ;   ;Starting Date       ;Date          ;CaptionML=[ENU=Starting Date;
                                                              RUS=Дата начала];
                                                   Editable=No }
    { 5   ;   ;Ending Date         ;Date          ;CaptionML=[ENU=Ending Date;
                                                              RUS=Дата окончания];
                                                   Editable=No }
    { 13  ;   ;Posting Date        ;Date          ;CaptionML=[ENU=Posting Date;
                                                              RUS=Дата учета] }
    { 21  ;   ;Amount              ;Decimal       ;CaptionML=[ENU=Amount;
                                                              RUS=Сумма];
                                                   BlankZero=Yes }
    { 38  ;   ;Where Used Register IDs;Code61     ;CaptionML=[ENU=Where Used Register IDs;
                                                              RUS=Коды регистра применимости];
                                                   Editable=No }
    { 50  ;   ;Date Filter         ;Date          ;FieldClass=FlowFilter;
                                                   CaptionML=[ENU=Date Filter;
                                                              RUS=Фильтр по дате] }
    { 101 ;   ;Ledger Entry No.    ;Integer       ;CaptionML=[ENU=Ledger Entry No.;
                                                              RUS=Номер операции ГК];
                                                   BlankZero=Yes }
    { 102 ;   ;Document Type       ;Option        ;CaptionML=[ENU=Document Type;
                                                              RUS=Тип документа];
                                                   OptionCaptionML=[ENU=" ,Payment";
                                                                    RUS=" ,Платеж"];
                                                   OptionString=[ ,Payment] }
    { 103 ;   ;Document No.        ;Code20        ;CaptionML=[ENU=Document No.;
                                                              RUS=Номер документа] }
    { 106 ;   ;Description         ;Text70        ;CaptionML=[ENU=Description;
                                                              RUS=Описание] }
    { 108 ;   ;Currency Code       ;Code10        ;TableRelation=Currency;
                                                   CaptionML=[ENU=Currency Code;
                                                              RUS=Код валюты] }
    { 121 ;   ;Dimension 1 Value Code;Code20      ;CaptionML=[ENU=Dimension 1 Value Code;
                                                              RUS=Код значения измерения 1];
                                                   CaptionClass=TaxRegMgt.GetDimCaptionClass("Section Code",1) }
    { 122 ;   ;Dimension 2 Value Code;Code20      ;CaptionML=[ENU=Dimension 2 Value Code;
                                                              RUS=Код значения измерения 2];
                                                   CaptionClass=TaxRegMgt.GetDimCaptionClass("Section Code",2) }
    { 123 ;   ;Dimension 3 Value Code;Code20      ;CaptionML=[ENU=Dimension 3 Value Code;
                                                              RUS=Код значения измерения 3];
                                                   CaptionClass=TaxRegMgt.GetDimCaptionClass("Section Code",3) }
    { 124 ;   ;Dimension 4 Value Code;Code20      ;CaptionML=[ENU=Dimension 4 Value Code;
                                                              RUS=Код значения измерения 4];
                                                   CaptionClass=TaxRegMgt.GetDimCaptionClass("Section Code",4) }
    { 150 ;   ;Employee Payroll Account No.;Code20;TableRelation="G/L Account";
                                                   CaptionML=[ENU=Employee Payroll Account No.;
                                                              RUS=Номер счета зарплаты сотрудника] }
    { 151 ;   ;Org. Unit Code      ;Code10        ;TableRelation="Organizational Unit";
                                                   CaptionML=[ENU=Org. Unit Code;
                                                              RUS=Код подразделения] }
    { 152 ;   ;Payroll Element Type;Option        ;CaptionML=[ENU=Payroll Element Type;
                                                              RUS=Тип зарплатного элемента];
                                                   OptionCaptionML=[ENU=Wage,Bonus,Income Tax,Netto Salary,Tax Deduction,Deduction,Other,Funds,Reporting;
                                                                    RUS=Начисление,Премия,НДФЛ,Зарплата,Налоговый вычет,Удержание,Прочее,Фонды,Отчетность];
                                                   OptionString=Wage,Bonus,Income Tax,Netto Salary,Tax Deduction,Deduction,Other,Funds,Reporting }
    { 153 ;   ;Payroll Element Code;Code20        ;TableRelation="Payroll Element";
                                                   CaptionML=[ENU=Payroll Element Code;
                                                              RUS=Код зарплатного элемента] }
    { 154 ;   ;Payroll Directory Code;Code10      ;TableRelation="Payroll Directory".Code WHERE (Type=FIELD(Payroll Directory Type));
                                                   CaptionML=[ENU=Payroll Directory Code;
                                                              RUS=Код справочника зарплаты] }
    { 155 ;   ;Payroll Element Group;Code20       ;TableRelation="Payroll Element Group";
                                                   CaptionML=[ENU=Payroll Element Group;
                                                              RUS=Группа зарплатных элементов] }
    { 156 ;   ;Payroll Directory Type;Option      ;CaptionML=[ENU=Payroll Directory Type;
                                                              RUS=Тип справочника зарплаты];
                                                   OptionCaptionML=[ENU=" ,Income,Allowance,Tax Deduction,Tax";
                                                                    RUS=" ,Доход,Льгота,Налоговый вычет,Налог"];
                                                   OptionString=[ ,Income,Allowance,Tax Deduction,Tax] }
    { 158 ;   ;Org. Unit Name      ;Text50        ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("Organizational Unit".Name WHERE (Code=FIELD(Org. Unit Code)));
                                                   CaptionML=[ENU=Org. Unit Name;
                                                              RUS=Название подразделения];
                                                   Editable=No }
    { 159 ;   ;Payroll Source      ;Option        ;CaptionML=[ENU=Payroll Source;
                                                              RUS=Источник плат. ведомости];
                                                   OptionCaptionML=[ENU=" ,Cost,Profit,FSI,FOSI";
                                                                    RUS=" ,Себест.,Прибыль,ФСС,ФОМС"];
                                                   OptionString=[ ,Cost,Profit,FSI,FOSI] }
    { 160 ;   ;Employee Statistics Group Code;Code10;
                                                   TableRelation="Employee Statistics Group";
                                                   CaptionML=[ENU=Employee Statistics Group Code;
                                                              RUS=Код статистической группы сотрудника] }
    { 161 ;   ;Employee Category Code;Code10      ;TableRelation="Employee Category";
                                                   CaptionML=[ENU=Employee Category Code;
                                                              RUS=Код категории сотрудника] }
    { 162 ;   ;Payroll Posting Group;Code20       ;TableRelation="Payroll Posting Group";
                                                   CaptionML=[ENU=Payroll Posting Group;
                                                              RUS=Учетные группы зарплаты] }
    { 163 ;   ;Fund Type           ;Option        ;CaptionML=[ENU=Fund Type;
                                                              RUS=Тип фонда];
                                                   OptionCaptionML=[ENU=" ,FSI,FSI Injury,Federal FMI,Territorial FMI,PF Accum. Part,PF Insur. Part";
                                                                    RUS=" ,ФСС,ФСС Травма,Федер. ФОМС,Террит. ФОМС,ПФ Накоп. часть,ПФ Страх. часть"];
                                                   OptionString=[ ,FSI,FSI Injury,Federal FMI,Territorial FMI,PF Accum. Part,PF Insur. Part] }
    { 201 ;   ;Amount (FCY)        ;Decimal       ;CaptionML=[ENU=Amount (FCY);
                                                              RUS=Сумма (ИНВ)];
                                                   BlankZero=Yes }
  }
  KEYS
  {
    {    ;Entry No.                               ;Clustered=Yes }
    {    ;Section Code,Ending Date                 }
    {    ;Section Code,Starting Date               }
    {    ;Section Code,Posting Date                }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      TaxRegMgt@1000 : Codeunit 17201;

    PROCEDURE ObjectName@1(Type@1000 : 'Full Name,Last Name and Initials,Last Name Only') : Text[100];
    VAR
      Employee@1006 : Record 5200;
    BEGIN
      IF Employee.GET("Employee No.") THEN
        CASE Type OF
          Type::"Full Name":
            EXIT(Employee.FullName);
          Type::"Last Name and Initials":
            EXIT(Employee."Last Name" + ' ' + Employee.Initials);
          Type::"Last Name Only":
            EXIT(Employee."Last Name");
          ELSE
            ERROR('');
        END;
    END;

    PROCEDURE Navigating@2();
    VAR
      Navigate@1000 : Page 344;
    BEGIN
      CLEAR(Navigate);
      Navigate.SetDoc("Posting Date","Document No.");
      Navigate.RUN;
    END;

    PROCEDURE SetFieldFilter@4(FieldNumber@1000 : Integer) FieldInList : Boolean;
    BEGIN
      FieldInList := FieldNumber IN [
                                     FIELDNO(Amount)
                                     ];
    END;

    PROCEDURE FormTitle@5() : Text[250];
    VAR
      TaxRegName@1000 : Record 17200;
    BEGIN
      FILTERGROUP(2);
      TaxRegName.SETRANGE("Section Code","Section Code");
      TaxRegName.SETFILTER("Register ID",DELCHR(GETFILTER("Where Used Register IDs"),'=','~'));
      FILTERGROUP(0);
      IF TaxRegName.FIND('-') THEN
        IF TaxRegName.NEXT = 0 THEN
          EXIT(TaxRegName.Description);
    END;

    BEGIN
    END.
  }
}

